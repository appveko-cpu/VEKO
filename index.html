<!DOCTYPE html>
<html lang="fr" data-theme="system">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0f1e">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-TileColor" content="#0a0f1e">
    <title>VEKO - La vision de ce que vous gagnez vraiment</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="shortcut icon" href="favicon.ico">

</head>
<body>



<!-- DAILY DIGEST NOTIFICATION -->
<div class="daily-digest" id="dailyDigest">
    <div class="daily-digest-icon">
        <i class="fas fa-trophy"></i>
    </div>
    <div class="daily-digest-text" id="dailyDigestText">
        Felicitations ! Vous avez realise 3 ventes de plus qu'hier.
    </div>
    <button class="daily-digest-close" onclick="closeDailyDigest()">
        <i class="fas fa-times"></i>
    </button>
</div>

<!-- MORNING BRIEF STORY -->
<div id="morningStory" class="story-overlay">
    <div class="story-progress-bar">
        <div class="story-progress-fill" id="storyProgressFill"></div>
    </div>
    <div class="story-content">
        <div class="story-greeting" id="storyGreeting">Bonjour</div>
        <div class="story-title" id="storyUserName">Boss</div>
        
        <div class="story-stats">
            <div class="story-stat">
                <div class="story-stat-value" id="storyBenefHier">0 F</div>
                <div class="story-stat-label">Benefice hier</div>
            </div>
            <div class="story-stat">
                <div class="story-stat-value" id="storyVentesHier">0</div>
                <div class="story-stat-label">Ventes hier</div>
            </div>
        </div>
        
        <div class="story-alert" id="storyAlert" style="display: none;">
            <i class="fas fa-exclamation-triangle"></i>
            <span class="story-alert-text" id="storyAlertText">N'oublie pas de repartir ta pub d'hier !</span>
        </div>
        
        <button class="story-btn" onclick="closeMorningStory()">
            C'est parti !
        </button>
    </div>
</div>

<!-- EVENING RECALL MODAL -->
<div id="eveningRecall" class="evening-modal">
    <div class="evening-modal-handle"></div>
    <div class="evening-modal-title">
        <i class="fas fa-moon" style="color: var(--accent-purple);"></i>
        Bilan du jour
    </div>
    <div class="evening-modal-subtitle">
        Tu as des ventes sans budget pub. Saisis ton budget pub Meta du jour pour finaliser tes benefices.
    </div>
    
    <div class="input-group">
        <label class="label">Devise Meta Ads</label>
        <select id="eveningDeviseMeta" class="input">
            <option value="XAF">FCFA / XAF</option>
            <option value="XOF">XOF (Afrique Ouest)</option>
            <option value="USD">USD (Dollar US)</option>
            <option value="EUR">EUR (Euro)</option>
            <option value="GBP">GBP (Livre Sterling)</option>
            <option value="CAD">CAD (Dollar Canadien)</option>
            <option value="CHF">CHF (Franc Suisse)</option>
            <option value="MAD">MAD (Dirham Marocain)</option>
            <option value="DZD">DZD (Dinar Algerien)</option>
            <option value="TND">TND (Dinar Tunisien)</option>
            <option value="EGP">EGP (Livre Egyptienne)</option>
            <option value="NGN">NGN (Naira Nigerian)</option>
            <option value="GHS">GHS (Cedi Ghaneen)</option>
            <option value="KES">KES (Shilling Kenyan)</option>
            <option value="ZAR">ZAR (Rand Sud-Africain)</option>
            <option value="GNF">GNF (Franc Guineen)</option>
            <option value="CDF">CDF (Franc Congolais)</option>
            <option value="RWF">RWF (Franc Rwandais)</option>
            <option value="BIF">BIF (Franc Burundais)</option>
            <option value="AOA">AOA (Kwanza Angolais)</option>
            <option value="MZN">MZN (Metical Mozambique)</option>
            <option value="TZS">TZS (Shilling Tanzanien)</option>
            <option value="UGX">UGX (Shilling Ougandais)</option>
            <option value="AED">AED (Dirham Emirats)</option>
            <option value="SAR">SAR (Riyal Saoudien)</option>
            <option value="INR">INR (Roupie Indienne)</option>
            <option value="CNY">CNY (Yuan Chinois)</option>
            <option value="JPY">JPY (Yen Japonais)</option>
            <option value="BRL">BRL (Real Bresilien)</option>
            <option value="MXN">MXN (Peso Mexicain)</option>
        </select>
    </div>
    
    <div class="input-group">
        <label class="label">Budget pub du jour</label>
        <input type="number" id="eveningBudgetPub" class="input" placeholder="10000">
    </div>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px;">
        <button class="btn btn-secondary" onclick="closeEveningRecall()">Plus tard</button>
        <button class="btn btn-primary" onclick="submitEveningPub()">Valider</button>
    </div>
</div>

<!-- NOTIFICATIONS PANEL -->
<div class="notif-overlay" id="notifOverlay" onclick="closeNotifPanel()"></div>
<div class="notif-panel" id="notifPanel">
    <div class="notif-panel-header">
        <span style="font-size: 18px; font-weight: 800;">Notifications</span>
        <button onclick="closeNotifPanel()" style="background: rgba(255,255,255,0.1); border: none; color: var(--text-primary); font-size: 18px; cursor: pointer; padding: 10px; min-width: 44px; min-height: 44px; display: flex; align-items: center; justify-content: center; border-radius: 50%;">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="notif-tabs">
        <button class="notif-tab active" onclick="switchNotifTab('notifs')" id="tabNotifs">
            <i class="fas fa-bell"></i> Alertes
        </button>
        <button class="notif-tab" onclick="switchNotifTab('conseils')" id="tabConseils">
            <i class="fas fa-lightbulb"></i> Conseils
        </button>
    </div>
    
    <div class="notif-list" id="notifListNotifs">
        <!-- Notifications will be inserted here -->
    </div>
    
    <div class="notif-list" id="notifListConseils" style="display: none;">
        <!-- Conseils VEKO will be inserted here -->
    </div>
</div>

<!-- KPI EXPLAIN MODAL -->
<div class="kpi-explain-modal" id="kpiExplainModal">
    <div class="kpi-explain-handle" onclick="closeKPIExplain()"></div>
    <div class="kpi-explain-title" id="kpiExplainTitle">
        <i class="fas fa-info-circle"></i>
        <span>Titre</span>
    </div>
    <div class="kpi-explain-content" id="kpiExplainContent">
        Contenu explicatif
    </div>
</div>
<div class="notif-overlay" id="kpiExplainOverlay" onclick="closeKPIExplain()"></div>

<!-- AUTH SCREEN -->
<div id="authScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #0a0f1e 0%, #1a1a3e 50%, #0d1424 100%); display: flex; align-items: center; justify-content: center; z-index: 99999; padding: 20px;">
    <div style="width: 100%; max-width: 380px; background: rgba(255,255,255,0.06); backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px); border: 1px solid rgba(255,255,255,0.12); border-radius: 28px; padding: 40px 28px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
        <div style="width: 64px; height: 64px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); border-radius: 18px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px;">
            <i class="fas fa-chart-line" style="font-size: 28px; color: white;"></i>
        </div>
        <h1 style="font-size: 28px; font-weight: 900; color: white; margin: 0 0 6px; letter-spacing: 2px;">VEKO</h1>
        <p style="font-size: 12px; color: rgba(255,255,255,0.5); margin: 0 0 32px;">La vision de ce que vous gagnez vraiment</p>

        <div style="display: flex; margin-bottom: 20px; background: rgba(255,255,255,0.06); border-radius: 10px; padding: 3px;">
            <button id="tabLogin" onclick="switchAuthTab('login')" style="flex: 1; padding: 10px; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; transition: all 0.3s;">Se connecter</button>
            <button id="tabSignup" onclick="switchAuthTab('signup')" style="flex: 1; padding: 10px; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; background: transparent; color: rgba(255,255,255,0.5); transition: all 0.3s;">S'inscrire</button>
        </div>

        <div id="authForm">
            <div style="margin-bottom: 16px;">
                <input type="email" id="authEmail" placeholder="Adresse email" style="width: 100%; padding: 14px 16px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; color: white; font-size: 14px; outline: none; font-family: 'Inter', sans-serif; transition: border-color 0.3s;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='rgba(255,255,255,0.15)'">
            </div>
            <div style="margin-bottom: 16px;">
                <input type="password" id="authPassword" placeholder="Mot de passe" style="width: 100%; padding: 14px 16px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; color: white; font-size: 14px; outline: none; font-family: 'Inter', sans-serif; transition: border-color 0.3s;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='rgba(255,255,255,0.15)'">
            </div>

            <button id="authSubmitBtn" onclick="handleAuth()" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; border: none; border-radius: 12px; font-size: 14px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; gap: 8px; transition: opacity 0.2s;" onmousedown="this.style.opacity='0.85'" onmouseup="this.style.opacity='1'">
                <i class="fas fa-sign-in-alt"></i> Se connecter
            </button>
        </div>

        <div style="display: flex; align-items: center; gap: 12px; margin: 20px 0;">
            <div style="flex: 1; height: 1px; background: rgba(255,255,255,0.15);"></div>
            <span style="font-size: 11px; color: rgba(255,255,255,0.4); font-weight: 500;">ou</span>
            <div style="flex: 1; height: 1px; background: rgba(255,255,255,0.15);"></div>
        </div>

        <button onclick="loginWithGoogle()" style="width: 100%; padding: 13px; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; color: white; font-size: 13px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; gap: 10px; transition: all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.12)'" onmouseout="this.style.background='rgba(255,255,255,0.08)'">
            <svg width="18" height="18" viewBox="0 0 48 48"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/><path fill="#FBBC05" d="M10.53 28.59A14.5 14.5 0 0 1 9.5 24c0-1.59.28-3.14.76-4.59l-7.98-6.19A23.99 23.99 0 0 0 0 24c0 3.77.9 7.35 2.56 10.53l7.97-5.94z"/><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 5.94C6.51 42.62 14.62 48 24 48z"/></svg>
            Continuer avec Google
        </button>

        <div id="authMessage" style="display: none; margin-top: 20px; padding: 16px; background: rgba(139,92,246,0.1); border: 1px solid rgba(139,92,246,0.2); border-radius: 12px;">
            <i class="fas fa-envelope-open-text" style="color: #8b5cf6; font-size: 20px; display: block; margin-bottom: 8px;"></i>
            <span id="authMessageText" style="font-size: 12px; color: rgba(255,255,255,0.8); line-height: 1.6;"></span>
        </div>

        <div id="authError" style="display: none; margin-top: 12px; padding: 14px; background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.2); border-radius: 12px;">
            <i class="fas fa-exclamation-circle" style="color: #ef4444; margin-right: 6px;"></i>
            <span id="authErrorText" style="font-size: 12px; color: #ef4444;"></span>
        </div>

        <button id="forgotPasswordBtn" onclick="showForgotPassword()" style="background: none; border: none; color: #8b5cf6; font-size: 11px; cursor: pointer; font-family: 'Inter', sans-serif; margin-top: 16px; text-decoration: underline;">Mot de passe oubli&#233; ?</button>

        <p id="authFooter" style="font-size: 10px; color: rgba(255,255,255,0.25); margin-top: 12px;">Entrez vos identifiants pour acc&#233;der &#224; VEKO.</p>

        <div style="text-align: center; margin-top: 16px;">
            <p style="font-size: 10px; color: rgba(255,255,255,0.3);">
                En vous connectant, vous acceptez notre
                <a href="#" onclick="openModalConfidentialite(); return false;" style="color: #8b5cf6; text-decoration: underline;">Politique de Confidentialit&#233;</a>
            </p>
        </div>
    </div>
</div>

<!-- MAIN APP -->
<div id="mainApp">

    <!-- DESKTOP SIDEBAR -->
    <div class="desktop-sidebar" style="display: none;">
        <div style="padding: 20px; text-align: center; border-bottom: 1px solid var(--diamond-border); margin-bottom: 12px;">
            <div style="font-size: 24px; font-weight: 900; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 3px;">VEKO</div>
            <div class="sidebar-slogan" style="font-size: 9px; color: var(--text-muted); margin-top: 6px; line-height: 1.3;">La vision de ce que<br>vous gagnez vraiment</div>
        </div>
        
        <div style="padding: 4px 16px 8px; font-size: 10px; text-transform: uppercase; letter-spacing: 1.5px; color: var(--text-muted); font-weight: 700;">Onglets</div>
        
        <div class="desktop-nav-item active" onclick="showTab('dashboard')" data-tab="dashboard">
            <i class="fas fa-chart-line"></i>
            <span class="nav-text">Dashboard</span>
        </div>
        <div class="desktop-nav-item" onclick="showTab('nouvelle')" data-tab="nouvelle">
            <i class="fas fa-calculator"></i>
            <span class="nav-text">Calcul</span>
        </div>
        <div class="desktop-nav-item" onclick="showTab('projets')" data-tab="projets">
            <i class="fas fa-box"></i>
            <span class="nav-text">Produits</span>
        </div>
        <div class="desktop-nav-item" onclick="showTab('historique')" data-tab="historique">
            <i class="fas fa-receipt"></i>
            <span class="nav-text">Commandes</span>
        </div>
        <div class="desktop-nav-item" onclick="showTab('clients')" data-tab="clients">
            <i class="fas fa-users"></i>
            <span class="nav-text">Clients</span>
        </div>
        <div class="desktop-nav-item" onclick="showTab('simulation')" data-tab="simulation">
            <i class="fas fa-flask"></i>
            <span class="nav-text">Laboratoire</span>
        </div>

        <div style="flex: 1;"></div>
        <div style="border-top: 1px solid var(--diamond-border); margin: 12px 16px 0;"></div>
        <div class="desktop-nav-item" onclick="showTab('parametres')" data-tab="parametres">
            <i class="fas fa-cog"></i>
            <span class="nav-text">Parametres</span>
        </div>
    </div>

    <div class="container">
        <!-- TOP BAR MOBILE -->
        <div class="top-bar top-bar-mobile">
            <div class="top-bar-content" style="position: relative;">
                <div style="display: flex; flex-direction: column;">
                    <div class="top-bar-logo">VEKO</div>
                </div>
                
                <div style="position: absolute; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center;">
                    <button class="top-bar-btn" onclick="openModalDevise()" style="margin-bottom: 2px;">
                        <i class="fas fa-coins"></i>
                        <span id="deviseActuelle">FCFA</span>
                    </button>
                    <div style="font-size: 10px; color: var(--text-secondary); text-align: center; max-width: 140px; line-height: 1.3; font-weight: 700;">La vision de ce que vous gagnez vraiment</div>
                </div>
                
                <div class="top-bar-actions">
                    <button class="top-bar-btn notif-btn" onclick="openNotifPanel()">
                        <i class="fas fa-bell"></i>
                        <span class="notif-badge" id="notifBadgeCount" style="display: none;">0</span>
                    </button>
                    
                    <div class="profile-dropdown-container">
                        <div class="top-bar-icon" onclick="toggleProfileDropdown()" id="btnModeProfil">
                            <i class="fas fa-user"></i>
                        </div>
                        
                        <div class="profile-dropdown" id="profileDropdown">
                            <button onclick="closeProfileDropdown()" style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.1); border: none; color: var(--text-secondary); width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px; transition: all 0.2s; z-index: 10;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">&times;</button>
                            <div class="profile-dropdown-header">
                                <div class="profile-dropdown-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="profile-dropdown-name" id="dropdownProfileName">Boss</div>
                                <div class="profile-dropdown-role">Entrepreneur</div>
                                <div class="profile-dropdown-level badge-bronze" id="dropdownProfileLevel">
                                    <i class="fas fa-medal"></i> Bronze
                                </div>
                                <div id="progressionBar" style="width: 100%; margin-top: 10px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 10px; color: var(--text-muted);" id="progressionPoints">0 pts</span>
                                        <span style="font-size: 10px; color: var(--text-muted);" id="progressionNext">Prochain: 20 pts</span>
                                    </div>
                                    <div style="width: 100%; height: 6px; background: var(--glass-bg); border-radius: 3px; overflow: hidden;">
                                        <div id="progressionFill" style="width: 0%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #ec4899); border-radius: 3px; transition: width 0.5s;"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <label style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; font-weight: 700; margin-bottom: 12px; display: block;">Apparence</label>
                                <div style="background: rgba(255,255,255,0.05); padding: 4px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(255,255,255,0.1);">
                                    <button onclick="event.stopPropagation(); changerTheme('light');" id="btn-theme-light" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-muted); background: none; border: none; cursor: pointer; transition: all 0.2s;">
                                        <i class="fas fa-sun" style="display: block; margin-bottom: 4px;"></i> Clair
                                    </button>
                                    <button onclick="event.stopPropagation(); changerTheme('dark');" id="btn-theme-dark" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-primary); background: rgba(255,255,255,0.1); border: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: all 0.2s;">
                                        <i class="fas fa-moon" style="display: block; margin-bottom: 4px;"></i> Sombre
                                    </button>
                                    <button onclick="event.stopPropagation(); changerTheme('system');" id="btn-theme-system" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-muted); background: none; border: none; cursor: pointer; transition: all 0.2s;">
                                        <i class="fas fa-desktop" style="display: block; margin-bottom: 4px;"></i> Auto
                                    </button>
                                </div>
                            </div>

                            <div style="margin-bottom: 16px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(16,185,129,0.2); display: flex; align-items: center; justify-content: center; color: var(--accent-green);">
                                            <i class="fas fa-leaf" style="font-size: 12px;"></i>
                                        </div>
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-secondary);">Economie de donnees</span>
                                    </div>
                                    <label class="toggle-switch" onclick="event.stopPropagation();">
                                        <input type="checkbox" id="toggle-eco-mode" onchange="event.stopPropagation(); toggleEcoMode(this);">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>

                            <button onclick="event.stopPropagation(); showTab('parametres'); closeProfileDropdown();" style="width: 100%; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--text-secondary); cursor: pointer; transition: all 0.2s; font-weight: 500; margin-bottom: 8px;">
                                <i class="fas fa-cog" style="color: var(--accent-purple);"></i>
                                <span>Param&#232;tres</span>
                            </button>

                            <button onclick="event.stopPropagation(); deconnexion();" style="width: 100%; background: rgba(239,68,68,0.1); padding: 12px; border-radius: 12px; border: 1px solid rgba(239,68,68,0.2); display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--accent-red); cursor: pointer; transition: all 0.2s; font-weight: 500;">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Se d&#233;connecter</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- TOP BAR DESKTOP -->
        <div class="top-bar-desktop">
            <div style="display: flex; justify-content: space-between; align-items: center; max-width: 100%;">
                <div style="display: flex; align-items: center; gap: 16px;">
                    <button class="top-bar-btn" onclick="openModalDevise()">
                        <i class="fas fa-coins"></i>
                        <span id="deviseActuelleDesktop">FCFA</span>
                    </button>
                    <div style="font-size: 13px; color: var(--text-secondary); font-weight: 700;">La vision de ce que vous gagnez vraiment</div>
                </div>
                
                <div class="top-bar-actions" style="display: flex; align-items: center; gap: 12px;">
                    <button class="top-bar-btn notif-btn" onclick="openNotifPanel()">
                        <i class="fas fa-bell"></i>
                        <span class="notif-badge" id="notifBadgeCountDesktop" style="display: none;">0</span>
                    </button>
                    
                    <div class="profile-dropdown-container">
                        <div class="top-bar-icon" onclick="toggleProfileDropdown()" id="btnModeProfilDesktop">
                            <i class="fas fa-user"></i>
                        </div>
                        
                        <div class="profile-dropdown" id="profileDropdownDesktop">
                            <button onclick="closeProfileDropdown()" style="position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.1); border: none; color: var(--text-secondary); width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 16px; transition: all 0.2s; z-index: 10;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">&times;</button>
                            <div class="profile-dropdown-header">
                                <div class="profile-dropdown-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="profile-dropdown-name" id="dropdownProfileNameDesktop">Boss</div>
                                <div class="profile-dropdown-role">Entrepreneur</div>
                                <div class="profile-dropdown-level badge-bronze" id="dropdownProfileLevelDesktop">
                                    <i class="fas fa-medal"></i> Bronze
                                </div>
                                <div id="progressionBarDesktop" style="width: 100%; margin-top: 10px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                                        <span style="font-size: 10px; color: var(--text-muted);" id="progressionPointsDesktop">0 pts</span>
                                        <span style="font-size: 10px; color: var(--text-muted);" id="progressionNextDesktop">Prochain: 20 pts</span>
                                    </div>
                                    <div style="width: 100%; height: 6px; background: var(--glass-bg); border-radius: 3px; overflow: hidden;">
                                        <div id="progressionFillDesktop" style="width: 0%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #ec4899); border-radius: 3px; transition: width 0.5s;"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <label style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; font-weight: 700; margin-bottom: 12px; display: block;">Apparence</label>
                                <div style="background: rgba(255,255,255,0.05); padding: 4px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(255,255,255,0.1);">
                                    <button onclick="changerTheme('light')" id="btn-theme-light-desktop" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-muted); background: none; border: none; cursor: pointer; transition: all 0.2s;">
                                        <i class="fas fa-sun" style="display: block; margin-bottom: 4px;"></i> Clair
                                    </button>
                                    <button onclick="changerTheme('dark')" id="btn-theme-dark-desktop" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-primary); background: rgba(255,255,255,0.1); border: none; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: all 0.2s;">
                                        <i class="fas fa-moon" style="display: block; margin-bottom: 4px;"></i> Sombre
                                    </button>
                                    <button onclick="changerTheme('system')" id="btn-theme-system-desktop" style="flex: 1; padding: 8px 4px; border-radius: 8px; font-size: 12px; font-weight: 500; color: var(--text-muted); background: none; border: none; cursor: pointer; transition: all 0.2s;">
                                        <i class="fas fa-desktop" style="display: block; margin-bottom: 4px;"></i> Auto
                                    </button>
                                </div>
                            </div>

                            <div style="margin-bottom: 16px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(16,185,129,0.2); display: flex; align-items: center; justify-content: center; color: var(--accent-green);">
                                            <i class="fas fa-leaf" style="font-size: 12px;"></i>
                                        </div>
                                        <span style="font-size: 13px; font-weight: 500; color: var(--text-secondary);">Economie de donnees</span>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="toggle-eco-mode-desktop" onchange="toggleEcoMode(this)">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>

                            <button onclick="showTab('parametres'); closeProfileDropdown();" style="width: 100%; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--text-secondary); cursor: pointer; transition: all 0.2s; font-weight: 500; margin-bottom: 8px;">
                                <i class="fas fa-cog" style="color: var(--accent-purple);"></i>
                                <span>Param&#232;tres</span>
                            </button>

                            <button onclick="deconnexion()" style="width: 100%; background: rgba(239,68,68,0.1); padding: 12px; border-radius: 12px; border: 1px solid rgba(239,68,68,0.2); display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--accent-red); cursor: pointer; transition: all 0.2s; font-weight: 500;">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Se d&#233;connecter</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- MAIN CONTENT -->
        <div class="main-content">

    <!-- PAGE: DASHBOARD CEO -->
    <div id="page-dashboard" class="page active">
        
        <!-- Objective Slider Section -->
        <div class="card card-glass" style="padding: 0; overflow: hidden;">
            <div class="objective-slider objective-slider-desktop" id="objectiveSlider">
                <!-- Slide 1: Recap CA/Benefice -->
                <div class="objective-slide active" id="slideRecap">
                    <div style="padding: 20px;">
                        <div class="section-title" style="margin-bottom: 16px;">
                            <i class="fas fa-chart-bar"></i>
                            RÃ©capitulatif
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <div style="text-align: center;">
                                <div style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 6px;">Chiffre d'Affaires (CA)</div>
                                <div style="font-size: 24px; font-weight: 900; color: var(--accent-blue);" id="recapCA">0 F</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 11px; color: var(--text-muted); text-transform: uppercase; margin-bottom: 6px;">Benefice Net</div>
                                <div style="font-size: 24px; font-weight: 900; color: var(--accent-green);" id="recapBenefice">0 F</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Activity Ring -->
        <div class="card card-glass">
            <div class="section-title" style="display: flex; justify-content: space-between; align-items: center;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-bullseye"></i>
                    Objectif du Jour
                </div>
                <div id="objectifActions" style="display: none;">
                    <button onclick="openModalObjectif()" style="background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 8px; padding: 6px 10px; color: var(--text-secondary); font-size: 11px; cursor: pointer; margin-right: 6px;">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button onclick="supprimerObjectif()" style="background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; padding: 6px 10px; color: var(--accent-red); font-size: 11px; cursor: pointer;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            
            <!-- Objectif Personnel Section -->
            <div id="objectifPersonnelSection" style="margin-bottom: 20px; padding: 16px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 16px;">
                <div id="objectifSlideContent">
                    <div style="text-align: center; padding: 20px 0;">
                        <i class="fas fa-bullseye" style="font-size: 32px; color: var(--text-muted); margin-bottom: 12px;"></i>
                        <p style="color: var(--text-muted); font-size: 13px; margin-bottom: 16px;">Aucun objectif defini</p>
                        <button onclick="openModalObjectif()" class="btn btn-primary" style="width: auto; padding: 12px 24px;">
                            <i class="fas fa-plus"></i> Definir un objectif
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="activity-ring-container">
                <svg width="180" height="180" class="activity-ring">
                    <!-- Outer Ring - Benefice (Green) -->
                    <circle class="activity-ring-bg" cx="90" cy="90" r="75" stroke-width="12"></circle>
                    <circle class="activity-ring-progress ring-benefice" id="ringBenefice" cx="90" cy="90" r="75" stroke-width="12" 
                            stroke-dasharray="471.24" stroke-dashoffset="471.24" transform="rotate(-90 90 90)"></circle>
                    
                    <!-- Middle Ring - CA (Blue) -->
                    <circle class="activity-ring-bg" cx="90" cy="90" r="60" stroke-width="12"></circle>
                    <circle class="activity-ring-progress ring-ca" id="ringCA" cx="90" cy="90" r="60" stroke-width="12" 
                            stroke-dasharray="376.99" stroke-dashoffset="376.99" transform="rotate(-90 90 90)"></circle>
                    
                    <!-- Inner Ring - Ventes (Purple) -->
                    <circle class="activity-ring-bg" cx="90" cy="90" r="45" stroke-width="12"></circle>
                    <circle class="activity-ring-progress ring-ventes" id="ringVentes" cx="90" cy="90" r="45" stroke-width="12" 
                            stroke-dasharray="282.74" stroke-dashoffset="282.74" transform="rotate(-90 90 90)"></circle>
                </svg>
                
                <div class="activity-ring-center">
                    <div class="activity-ring-value counter-animate" id="ringCenterValue">0%</div>
                    <div class="activity-ring-label">Objectif</div>
                </div>
            </div>
            
            <div class="activity-legend">
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-green);"></div>
                    <span>Benefice</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-blue);"></div>
                    <span>CA</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: var(--accent-purple);"></div>
                    <span>Ventes</span>
                </div>
            </div>
        </div>
        
        <!-- Period Selector -->
        <div class="period-selector" id="periodSelector">
            <button class="period-btn" onclick="changerPeriodeKPI('jour')">Jour</button>
            <button class="period-btn" onclick="changerPeriodeKPI('semaine')">Semaine</button>
            <button class="period-btn active" onclick="changerPeriodeKPI('mois')">Mois</button>
            <button class="period-btn" onclick="changerPeriodeKPI('personnalise')">Personnalise</button>
        </div>
        
        <!-- Date Range (hidden by default) -->
        <div id="dateRangeSelector" style="display: none; margin-bottom: 16px;">
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <div class="calendar-input" style="flex: 1; min-width: 140px;">
                    <input type="date" id="kpiDateDebut" class="input" onchange="updateKPIsByDateRange()">
                    <i class="fas fa-calendar"></i>
                </div>
                <div class="calendar-input" style="flex: 1; min-width: 140px;">
                    <input type="date" id="kpiDateFin" class="input" onchange="updateKPIsByDateRange()">
                    <i class="fas fa-calendar"></i>
                </div>
            </div>
        </div>
        
        <!-- KPIs Bento Grid -->
        <div class="bento-grid" style="margin-bottom: 16px;">
            <div class="bento-item kpi-clickable" onclick="showKPIExplain('ca')">
                <div class="bento-item-icon" style="background: rgba(59, 130, 246, 0.15);">
                    <i class="fas fa-chart-line" style="color: var(--accent-blue);"></i>
                </div>
                <div class="bento-item-title" id="kpiCaLabel">Chiffre d'Affaires</div>
                <div class="bento-item-value counter-animate" id="kpiCaMois" style="color: var(--accent-blue);">0 F</div>
                <div class="kpi-hint"><i class="fas fa-info-circle"></i></div>
            </div>
            <div class="bento-item kpi-clickable" onclick="showKPIExplain('benefice')">
                <div class="bento-item-icon" style="background: rgba(16, 185, 129, 0.15);">
                    <i class="fas fa-coins" style="color: var(--accent-green);"></i>
                </div>
                <div class="bento-item-title" id="kpiBeneficeLabel">Benefice Net</div>
                <div class="bento-item-value counter-animate" id="kpiBeneficeMois" style="color: var(--accent-green);">0 F</div>
                <div class="kpi-hint"><i class="fas fa-info-circle"></i></div>
            </div>
            <div class="bento-item kpi-clickable" onclick="showKPIExplain('marge')">
                <div class="bento-item-icon" style="background: rgba(245, 158, 11, 0.15);">
                    <i class="fas fa-percentage" style="color: var(--accent-orange);"></i>
                </div>
                <div class="bento-item-title">Marge Moyenne</div>
                <div class="bento-item-value counter-animate" id="kpiMargeMoyenne" style="color: var(--accent-orange);">0%</div>
                <div class="kpi-hint"><i class="fas fa-info-circle"></i></div>
            </div>
            <div class="bento-item kpi-clickable" onclick="showKPIExplain('ventes')">
                <div class="bento-item-icon" style="background: rgba(139, 92, 246, 0.15);">
                    <i class="fas fa-shopping-bag" style="color: var(--accent-purple);"></i>
                </div>
                <div class="bento-item-title" id="kpiVentesLabel">Ventes</div>
                <div class="bento-item-value counter-animate" id="kpiNbVentes" style="color: var(--accent-purple);">0</div>
                <div class="kpi-hint"><i class="fas fa-info-circle"></i></div>
            </div>
        </div>
        
        <!-- Ventes Recentes -->
        <div class="card" id="cardVentesRecentes">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin: 0;">
                    <i class="fas fa-clock" style="color: var(--accent-cyan); margin-right: 8px;"></i>
                    Ajouts R&#233;cents
                </h3>
                <button onclick="showTab('historique')" style="font-size: 11px; color: var(--accent-blue); background: none; border: none; cursor: pointer; font-weight: 600;">Voir tout</button>
            </div>
            <div id="ventesRecentesList">
                <div class="empty-state" style="padding: 20px;">
                    <i class="fas fa-shopping-cart" style="font-size: 32px; color: var(--text-muted); margin-bottom: 10px; display: block;"></i>
                    <p style="font-size: 12px; color: var(--text-muted); margin: 0;">Aucune vente enregistr&#233;e.<br>Commencez par ajouter votre premi&#232;re vente !</p>
                    <button onclick="showTab('nouvelle')" class="btn btn-primary" style="margin-top: 12px; padding: 10px 20px; font-size: 12px;">
                        <i class="fas fa-plus"></i> Ajouter une vente
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Objectif du Mois -->
        <div class="card" id="cardObjectif" style="display: none;">
            <div style="margin-bottom: 12px;">
                <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin: 0;">
                    <i class="fas fa-bullseye" style="color: var(--accent-orange); margin-right: 8px;"></i>
                    Objectif G&#233;n&#233;ral
                </h3>
            </div>
            <div id="objectifDetails"></div>
        </div>
        
        <!-- Produit Top -->
        <div class="card">
            <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                <i class="fas fa-trophy" style="color: var(--accent-orange); margin-right: 8px;"></i>
                Produit le Plus Rentable
            </h3>
            <div id="produitTopPerf">
                <div class="skeleton skeleton-card"></div>
            </div>
        </div>
        
        <!-- Taux de Retour -->
        <div class="card">
            <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                <i class="fas fa-box" style="color: var(--accent-purple); margin-right: 8px;"></i>
                Taux de Retour
            </h3>
            <div id="tauxRetour">
                <div class="skeleton skeleton-text" style="width: 80%;"></div>
            </div>
        </div>
        
        <!-- Graphique Evolution -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin: 0;">
                    <i class="fas fa-chart-line" style="color: var(--accent-blue); margin-right: 8px;"></i>
                    Evolution
                </h3>
                <div style="display: flex; gap: 8px;">
                    <select id="chartPeriodSelect" class="input" style="padding: 8px 12px; font-size: 11px; width: auto;" onchange="chargerGraphiqueEvolution()">
                        <option value="7">7 jours</option>
                        <option value="14">14 jours</option>
                        <option value="30">30 jours</option>
                    </select>
                    <select id="chartProduitSelect" class="input" style="padding: 8px 12px; font-size: 11px; width: auto;" onchange="chargerGraphiqueEvolution()">
                        <option value="">Tous</option>
                    </select>
                </div>
            </div>
            <div id="chartStatsContainer"></div>
            <canvas id="chartEvolution7j" style="max-height: 220px;"></canvas>
        </div>
        
        <!-- Repartition CA -->
        <div class="card" id="cardRepartitionCA" style="display: none;">
            <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px;">
                <i class="fas fa-chart-pie" style="color: var(--accent-green); margin-right: 8px;"></i>
                Repartition CA par Produit
            </h3>
            <canvas id="chartRepartitionCA" style="max-height: 220px;"></canvas>
        </div>
        
        <!-- Produits en Difficulte -->
        <div class="card" id="cardProduitsRisque" style="display: none;">
            <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin-bottom: 12px;">
                <i class="fas fa-exclamation-triangle" style="color: var(--accent-red); margin-right: 8px;"></i>
                Produits en Difficulte
            </h3>
            <div id="produitsRisque"></div>
        </div>
        
        <!-- Shopify Dashboard Section -->
        <div class="card" id="shopifyDashboardSection" style="display: none;">
            <h3 style="font-size: 15px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px;">
                <i class="fab fa-shopify" style="color: #96bf48; margin-right: 8px;"></i>
                Analyse Shopify
            </h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; text-align: center;">
                    <div style="font-size: 9px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px;">Ventes Shopify</div>
                    <div id="shopifyTotalCA" style="font-size: 18px; font-weight: 900; color: #96bf48;">0 F</div>
                </div>
                <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; text-align: center;">
                    <div style="font-size: 9px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px;">CA Reel (Livre)</div>
                    <div id="shopifyReelCA" style="font-size: 18px; font-weight: 900; color: var(--accent-blue);">0 F</div>
                </div>
                <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; text-align: center;">
                    <div style="font-size: 9px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px;">Benefice Reel</div>
                    <div id="shopifyReelBenefice" style="font-size: 18px; font-weight: 900; color: var(--accent-green);">0 F</div>
                </div>
            </div>
            <div style="margin-top: 12px; padding: 10px; background: rgba(150,191,72,0.08); border: 1px solid rgba(150,191,72,0.15); border-radius: 10px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 11px; color: var(--text-muted);">Taux de livraison</span>
                    <span id="shopifyTauxLivraison" style="font-size: 13px; font-weight: 800; color: #96bf48;">0%</span>
                </div>
                <div style="width: 100%; height: 6px; background: var(--glass-bg); border-radius: 3px; margin-top: 6px; overflow: hidden;">
                    <div id="shopifyTauxBar" style="width: 0%; height: 100%; background: #96bf48; border-radius: 3px; transition: width 0.5s;"></div>
                </div>
            </div>
        </div>

        <!-- Profil Completion -->
        <div class="card" id="profilCompletionCard" style="display: none;">
            <div style="display: flex; align-items: center; gap: 12px;">
                <div style="width: 40px; height: 40px; border-radius: 50%; background: rgba(245,158,11,0.15); display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-user-edit" style="color: var(--accent-orange);"></i>
                </div>
                <div style="flex: 1;">
                    <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);">Profil complete a <span id="profilCompletionPct">40</span>%</div>
                    <div style="font-size: 11px; color: var(--text-muted);">Ajoutez une commande pour debloquer vos statistiques</div>
                    <div style="width: 100%; height: 5px; background: var(--glass-bg); border-radius: 3px; margin-top: 6px; overflow: hidden;">
                        <div id="profilCompletionBar" style="width: 40%; height: 100%; background: var(--accent-orange); border-radius: 3px; transition: width 0.5s;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="grid-2">
            <button onclick="showTab('nouvelle')" class="btn btn-primary" style="padding: 14px;">
                <i class="fas fa-plus-circle"></i> Nouvelle Vente
            </button>
            <button onclick="showTab('historique')" class="btn btn-success" style="padding: 14px;">
                <i class="fas fa-receipt"></i> Commandes
            </button>
        </div>
    </div>

    <!-- PAGE: NOUVELLE VENTE -->
    <div id="page-nouvelle" class="page">
        
        <!-- ETAPE 1: Calcul Fournisseur -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-truck"></i>
                <span id="etape1Title">ETAPE 1 : Calcul Fournisseur</span>
            </div>

            <div style="display: flex; gap: 8px; margin-bottom: 20px;">
                <button type="button" id="btnFournisseur" class="btn btn-primary" style="flex: 1; padding: 12px; font-size: 13px;" onclick="changerTypeCalcul('fournisseur')">
                    <i class="fas fa-truck"></i> Fournisseur
                </button>
                <button type="button" id="btnProduction" class="btn btn-secondary" style="flex: 1; padding: 12px; font-size: 13px;" onclick="changerTypeCalcul('production')">
                    <i class="fas fa-industry"></i> Production
                </button>
            </div>

            <div class="input-group">
                <label class="label">Selectionner un produit existant (optionnel)</label>
                <select id="selectProjet" class="input" onchange="chargerProjetDansCalcul()">
                    <option value="">-- Saisie manuelle --</option>
                </select>
            </div>

            <!-- Formulaire Fournisseur -->
            <div id="formFournisseur">
                <div class="input-group">
                    <label class="label">Prix d'achat unitaire (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="prixAchatUnit" class="input" placeholder="2500" oninput="calculerRevient()">
                </div>

                <div class="input-group">
                    <label class="label">Nombre d'articles achetes</label>
                    <input type="number" id="nbArticlesAchetes" class="input" placeholder="10" oninput="calculerRevient()">
                </div>

                <div class="input-group">
                    <label class="label">Frais de livraison / Transport (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="fraisLivraisonFournisseur" class="input" placeholder="5000" oninput="calculerRevient()">
                </div>
            </div>

            <!-- Formulaire Production -->
            <div id="formProduction" class="hidden">
                <div class="input-group">
                    <label class="label">Cout matieres premieres (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="coutMatieres" class="input" placeholder="15000" oninput="calculerRevient()">
                </div>

                <div class="input-group">
                    <label class="label">Cout main d'oeuvre (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="coutMainOeuvre" class="input" placeholder="5000" oninput="calculerRevient()">
                </div>

                <div class="input-group">
                    <label class="label">Autres frais de production (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="autresFrais" class="input" placeholder="2000" value="0" oninput="calculerRevient()">
                </div>

                <div class="input-group">
                    <label class="label">Nombre de produits fabriques</label>
                    <input type="number" id="nbProduitsProduction" class="input" placeholder="10" oninput="calculerRevient()">
                </div>
            </div>

            <div id="resultRevient" class="hidden">
                <div class="info-row">
                    <span class="info-label">Cout total</span>
                    <span class="info-value"><span id="coutTotalAchat">0</span> <span class="devise-label">F</span></span>
                </div>
                <div class="result-box">
                    <div class="result-label">Prix de revient par article</div>
                    <div class="result-value"><span id="prixRevientUnit">0</span> <span class="devise-label">F</span></div>
                </div>
            </div>
        </div>

        <!-- ETAPE 2: Calcul Commande -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-shopping-cart"></i>
                ETAPE 2 : Calcul par Commande
            </div>

            <div class="input-group">
                <label class="label">Nom du client (optionnel)</label>
                <input type="text" id="nomClient" class="input" placeholder="Ex: Jean Dupont">
            </div>

            <div class="input-group">
                <label class="label">Telephone du client (optionnel)</label>
                <input type="tel" id="telClient" class="input" placeholder="Ex: 6XX XXX XXX">
            </div>

            <div class="input-group">
                <label class="label">Nombre de pieces commandees</label>
                <input type="number" id="nbPiecesCommande" class="input" placeholder="2" oninput="calculerCommande()">
            </div>

            <div class="input-group">
                <label class="label">Prix de vente unitaire (<span class="devise-label">FCFA</span>)</label>
                <input type="number" id="prixVenteUnit" class="input" placeholder="15000" oninput="calculerCommande()">
            </div>

            <div class="input-group">
                <label class="label">Avez-vous pay&#233; la publicit&#233; (M&#233;ta, TikTok, etc.) pour cette commande ?</label>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button type="button" id="btnPubOui" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="togglePubChoix('oui')"><i class="fas fa-ad"></i> Oui, j'ai pay&#233;</button>
                    <button type="button" id="btnPubNon" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="togglePubChoix('non')"><i class="fas fa-times"></i> Non, pas de pub</button>
                </div>
                <div id="zoneBudgetPubInput" class="hidden">
                    <input type="number" id="budgetPub" class="input" placeholder="Montant pub du jour" value="0" oninput="calculerCommande()">
                    <div style="font-size: 10px; color: var(--text-muted); margin-top: 4px;"><i class="fas fa-info-circle" style="margin-right: 4px;"></i>Laissez &#224; 0 si le calcul se fait en fin de journ&#233;e.</div>
                </div>
            </div>

            <div class="input-group">
                <label class="label">Frais de livraison au client (<span class="devise-label">FCFA</span>)</label>
                <input type="number" id="fraisLivraisonClient" class="input" placeholder="2000" value="0" oninput="calculerCommande()">
            </div>

            <div class="input-group">
                <label class="label">Avez-vous quelqu'un qui g&#232;re vos commandes ?</label>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button type="button" id="btnCommOui" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="toggleCommissionChoix('oui')"><i class="fas fa-user-tie"></i> Oui</button>
                    <button type="button" id="btnCommNon" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="toggleCommissionChoix('non')"><i class="fas fa-user"></i> Non, moi-m&#234;me</button>
                </div>
                <div id="zoneCommissionInput" class="hidden">
                    <input type="number" id="commissionStock" class="input" placeholder="Commission par article" value="0" oninput="calculerCommande()">
                </div>
            </div>

            <div id="resultCommande" class="hidden">
                <div class="info-row">
                    <span class="info-label">Chiffre d'affaires</span>
                    <span class="info-value" id="ca">0 F</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Cout d'acquisition total</span>
                    <span class="info-value" id="coutAcquisition">0 F</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Commission totale</span>
                    <span class="info-value" id="commissionTotale">0 F</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Budget pub</span>
                    <span class="info-value" id="pubTotal">0 F</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Livraison client</span>
                    <span class="info-value" id="livraisonTotal">0 F</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Total depenses</span>
                    <span class="info-value" id="depensesTotales">0 F</span>
                </div>

                <div class="result-box" style="margin-top: 16px;">
                    <div class="result-label">Benefice Net</div>
                    <div class="result-value" id="beneficeNet">0 F</div>
                </div>

                <button class="btn btn-success" onclick="enregistrerVente()" style="margin-top: 20px;">
                    <i class="fas fa-save"></i>
                    Enregistrer cette vente
                </button>
            </div>
        </div>
    </div>

    <!-- PAGE: SIMULATION -->
    <div id="page-simulation" class="page">
        
        <div class="card" style="background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); border: none; color: white; text-align: center; padding: 24px;">
            <i class="fas fa-flask" style="font-size: 32px; margin-bottom: 12px;"></i>
            <h2 style="font-size: 18px; font-weight: 900; margin: 0;">Laboratoire</h2>
            <p style="font-size: 12px; opacity: 0.9; margin-top: 8px;">Vos outils intelligents pour optimiser vos prix</p>
        </div>

        <!-- FIXATEUR DE PRIX -->
        <div class="card" id="fixateurPrixCard">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
                <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); border-radius: 14px; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-crosshairs" style="font-size: 20px; color: white;"></i>
                </div>
                <div>
                    <div style="font-size: 10px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px;">OUTIL</div>
                    <div style="font-size: 17px; font-weight: 900; color: var(--text-primary);">Fixateur de Prix</div>
                </div>
            </div>

            <div id="fixStepIndicator" style="display: flex; align-items: center; gap: 0; margin-bottom: 24px;">
                <div id="fixStep1Dot" style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #8b5cf6, #ec4899); display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 800; color: white;">1</div>
                <div style="flex: 1; height: 3px; background: var(--glass-bg); border-radius: 2px; margin: 0 4px;">
                    <div id="fixProgressBar1" style="width: 0%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #ec4899); border-radius: 2px; transition: width 0.4s;"></div>
                </div>
                <div id="fixStep2Dot" style="width: 32px; height: 32px; border-radius: 50%; background: var(--glass-bg); border: 2px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 800; color: var(--text-muted);">2</div>
                <div style="flex: 1; height: 3px; background: var(--glass-bg); border-radius: 2px; margin: 0 4px;">
                    <div id="fixProgressBar2" style="width: 0%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #ec4899); border-radius: 2px; transition: width 0.4s;"></div>
                </div>
                <div id="fixStep3Dot" style="width: 32px; height: 32px; border-radius: 50%; background: var(--glass-bg); border: 2px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 800; color: var(--text-muted);">3</div>
            </div>

            <!-- ETAPE 1 : La Vision -->
            <div id="fixEtape1">
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 14px; font-weight: 800; color: var(--text-primary); margin-bottom: 4px;">
                        <i class="fas fa-eye" style="color: #8b5cf6; margin-right: 6px;"></i>&#201;tape 1 : La Vision
                    </div>
                    <div style="font-size: 11px; color: var(--text-muted);">D&#233;finissez votre produit et votre ambition de prix.</div>
                </div>

                <div class="input-group">
                    <label class="label">Nom du produit</label>
                    <input type="text" id="fixNomProduit" class="input" placeholder="Ex: Sac &#224; main cuir">
                </div>

                <div class="input-group">
                    <label class="label">&#192; combien souhaitez-vous le vendre ? (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="fixPrixObjectif" class="input" placeholder="25000">
                </div>

                <div class="input-group">
                    <label class="label">Combien souhaitez-vous gagner net par vente ? (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="fixScenarioPocheInput" class="input" placeholder="Montant net souhait&#233; par vente" oninput="fixCalculerPoche()">
                    <div style="font-size: 10px; color: var(--text-muted); margin-top: 4px;"><i class="fas fa-info-circle" style="margin-right: 4px;"></i>Optionnel. L'avis final tiendra compte de cet objectif.</div>
                </div>

                <div class="input-group">
                    <label class="label">&#192; combien les concurrents le vendent-ils ? (<span class="devise-label">FCFA</span>)</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="number" id="fixPrixConcurrence" class="input" placeholder="Laisser vide si inconnu" style="flex: 1;" oninput="fixToggleConcurrence()">
                        <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; white-space: nowrap; font-size: 12px; color: var(--text-muted);">
                            <input type="checkbox" id="fixConcurrenceInconnu" onchange="fixToggleInconnu()" style="accent-color: #8b5cf6; width: 16px; height: 16px;">
                            Je ne sais pas
                        </label>
                    </div>
                </div>

                <button onclick="fixAllerEtape2()" class="btn" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; border: none; font-weight: 700; font-size: 14px; border-radius: 12px; cursor: pointer; margin-top: 8px;">
                    Continuer <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                </button>
            </div>

            <!-- ETAPE 2 : La Source d'Acquisition -->
            <div id="fixEtape2" class="hidden">
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 14px; font-weight: 800; color: var(--text-primary); margin-bottom: 4px;">
                        <i class="fas fa-boxes" style="color: #8b5cf6; margin-right: 6px;"></i>&#201;tape 2 : La Source d&#8217;Acquisition
                    </div>
                    <div style="font-size: 11px; color: var(--text-muted);">Comment vous procurez-vous <strong id="fixNomProduitEtape2"></strong> ?</div>
                </div>

                <!-- 3 Choix Radio -->
                <div style="display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px;">
                    <label onclick="fixChoisirSource('local')" id="fixRadioLocal" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <div style="width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; flex-shrink: 0;" id="fixDotLocal">
                            <div style="width: 10px; height: 10px; border-radius: 50; display: none;" id="fixDotLocalInner"></div>
                        </div>
                        <div>
                            <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);"><i class="fas fa-store" style="color: var(--accent-blue); margin-right: 6px;"></i>Achat Local</div>
                            <div style="font-size: 10px; color: var(--text-muted);">Revendeur local, march&#233;, boutique</div>
                        </div>
                    </label>

                    <label onclick="fixChoisirSource('import')" id="fixRadioImport" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <div style="width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; flex-shrink: 0;" id="fixDotImport">
                            <div style="width: 10px; height: 10px; border-radius: 50%; display: none;" id="fixDotImportInner"></div>
                        </div>
                        <div>
                            <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);"><i class="fas fa-plane" style="color: var(--accent-orange); margin-right: 6px;"></i>Importation</div>
                            <div style="font-size: 10px; color: var(--text-muted);">International, Chine, Turquie, Dubai...</div>
                        </div>
                    </label>

                    <label onclick="fixChoisirSource('production')" id="fixRadioProduction" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 12px; cursor: pointer; transition: all 0.3s;">
                        <div style="width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; flex-shrink: 0;" id="fixDotProduction">
                            <div style="width: 10px; height: 10px; border-radius: 50%; display: none;" id="fixDotProductionInner"></div>
                        </div>
                        <div>
                            <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);"><i class="fas fa-hammer" style="color: var(--accent-purple); margin-right: 6px;"></i>Production / Fabrication</div>
                            <div style="font-size: 10px; color: var(--text-muted);">Fait main, atelier, confection</div>
                        </div>
                    </label>
                </div>

                <!-- ZONE A : Achat Local -->
                <div id="fixZoneLocal" class="hidden">
                    <div class="input-group">
                        <label class="label">Prix d'achat unitaire (<span class="devise-label">FCFA</span>)</label>
                        <input type="number" id="fixLocalPrixAchat" class="input" placeholder="2500">
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label class="label" style="margin-bottom: 10px; display: block;">Frais de transport / r&#233;cup&#233;ration pour ce stock ?</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <label onclick="fixChoisirTransport('gratuit')" id="fixRadioTransportGratuit" style="display: flex; align-items: center; gap: 10px; padding: 12px 14px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                <div style="width: 16px; height: 16px; border-radius: 50%; border: 2px solid var(--diamond-border); flex-shrink: 0;" id="fixDotTransGratuit"></div>
                                <span style="font-size: 12px; color: var(--text-primary);">0F (Sur place / Inclus)</span>
                            </label>
                            <label onclick="fixChoisirTransport('paye')" id="fixRadioTransportPaye" style="display: flex; align-items: center; gap: 10px; padding: 12px 14px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 10px; cursor: pointer; transition: all 0.3s;">
                                <div style="width: 16px; height: 16px; border-radius: 50%; border: 2px solid var(--diamond-border); flex-shrink: 0;" id="fixDotTransPaye"></div>
                                <span style="font-size: 12px; color: var(--text-primary);">J&#8217;ai pay&#233; la livraison / le taxi</span>
                            </label>
                        </div>
                    </div>

                    <div id="fixZoneTransportPaye" class="hidden">
                        <div class="input-group">
                            <label class="label">Montant total pay&#233; (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixLocalTransportMontant" class="input" placeholder="3000">
                        </div>
                        <div class="input-group">
                            <label class="label">Combien d&#8217;articles transport&#233;s ?</label>
                            <input type="number" id="fixLocalTransportNb" class="input" placeholder="10">
                        </div>
                    </div>
                </div>

                <!-- ZONE B : Importation -->
                <div id="fixZoneImport" class="hidden">
                    <div style="margin-bottom: 16px;">
                        <label class="label" style="margin-bottom: 10px; display: block;">Connaissez-vous le co&#251;t global ou le d&#233;tail ?</label>
                        <div style="display: flex; gap: 8px;">
                            <button type="button" id="fixBtnImportGlobal" class="btn btn-secondary" style="flex: 1; padding: 12px; font-size: 12px;" onclick="fixChoisirImportMode('global')">
                                <i class="fas fa-box"></i> Co&#251;t Global
                            </button>
                            <button type="button" id="fixBtnImportDetail" class="btn btn-secondary" style="flex: 1; padding: 12px; font-size: 12px;" onclick="fixChoisirImportMode('detail')">
                                <i class="fas fa-list"></i> D&#233;tail
                            </button>
                        </div>
                    </div>

                    <div id="fixZoneImportGlobal" class="hidden">
                        <div class="input-group">
                            <label class="label">Co&#251;t total du colis (Achat + Transport + Douane) (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixImportCoutGlobal" class="input" placeholder="150000">
                        </div>
                        <div class="input-group">
                            <label class="label">Nombre d'articles dans le colis</label>
                            <input type="number" id="fixImportNbGlobal" class="input" placeholder="20">
                        </div>
                    </div>

                    <div id="fixZoneImportDetail" class="hidden">
                        <div class="input-group">
                            <label class="label">Prix d'achat unitaire (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixImportPrixUnit" class="input" placeholder="3000">
                        </div>
                        <div class="input-group">
                            <label class="label">Frais logistiques globaux (transport + douane) (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixImportFraisLog" class="input" placeholder="50000">
                        </div>
                        <div class="input-group">
                            <label class="label">Nombre d'articles</label>
                            <input type="number" id="fixImportNbDetail" class="input" placeholder="20">
                        </div>
                    </div>
                </div>

                <!-- ZONE C : Production -->
                <div id="fixZoneProduction" class="hidden">
                    <div class="input-group">
                        <label class="label">Co&#251;t des mat&#233;riaux (<span class="devise-label">FCFA</span>)</label>
                        <input type="number" id="fixProdCoutMateriaux" class="input" placeholder="8000">
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="fixProdFacturerTemps" onchange="fixToggleTemps()" style="accent-color: #8b5cf6; width: 18px; height: 18px;">
                            <span style="font-size: 13px; font-weight: 600; color: var(--text-primary);">Facturer mon temps ?</span>
                        </label>
                    </div>

                    <div id="fixZoneTemps" class="hidden">
                        <div class="input-group">
                            <label class="label">Temps pass&#233; (heures)</label>
                            <input type="number" id="fixProdHeures" class="input" placeholder="3" step="0.5">
                        </div>
                        <div class="input-group">
                            <label class="label">Prix de votre heure (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixProdPrixHeure" class="input" placeholder="2000">
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 16px;">
                    <button onclick="fixRetourEtape1()" class="btn btn-secondary" style="padding: 14px 20px; font-size: 13px;">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button onclick="fixAllerEtape3()" class="btn" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; border: none; font-weight: 700; font-size: 14px; border-radius: 12px; cursor: pointer;">
                        Continuer <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                    </button>
                </div>
            </div>

            <!-- ETAPE 3 : La Realite des Charges -->
            <div id="fixEtape3" class="hidden">
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 14px; font-weight: 800; color: var(--text-primary); margin-bottom: 4px;">
                        <i class="fas fa-calculator" style="color: #8b5cf6; margin-right: 6px;"></i>&#201;tape 3 : La R&#233;alit&#233; des Charges
                    </div>
                    <div style="font-size: 11px; color: var(--text-muted);">Comment vendez-vous <strong id="fixNomProduitEtape3"></strong> ?</div>
                </div>

                <!-- Canal de Vente (Multi-choix) -->
                <div style="margin-bottom: 20px;">
                    <label class="label" style="margin-bottom: 10px; display: block;">Canal de vente (plusieurs choix possibles)</label>

                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <label style="display: flex; align-items: center; gap: 10px; padding: 12px 14px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 10px; cursor: pointer; transition: all 0.3s;" id="fixCanalBoutiqueLabel">
                            <input type="checkbox" id="fixCanalBoutique" onchange="fixToggleCanal()" style="accent-color: #8b5cf6; width: 18px; height: 18px;">
                            <div>
                                <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);"><i class="fas fa-store-alt" style="color: var(--accent-blue); margin-right: 6px;"></i>Boutique Physique</div>
                                <div style="font-size: 10px; color: var(--text-muted);">Magasin, stand, march&#233;</div>
                            </div>
                        </label>

                        <label style="display: flex; align-items: center; gap: 10px; padding: 12px 14px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 10px; cursor: pointer; transition: all 0.3s;" id="fixCanalEnLigneLabel">
                            <input type="checkbox" id="fixCanalEnLigne" onchange="fixToggleCanal()" style="accent-color: #8b5cf6; width: 18px; height: 18px;">
                            <div>
                                <div style="font-size: 13px; font-weight: 700; color: var(--text-primary);"><i class="fas fa-globe" style="color: var(--accent-orange); margin-right: 6px;"></i>Vente en Ligne</div>
                                <div style="font-size: 10px; color: var(--text-muted);">Facebook, TikTok, Instagram, Site web</div>
                            </div>
                        </label>

                        <button type="button" onclick="fixCocherLesDeux()" class="btn btn-secondary" style="padding: 10px; font-size: 12px; font-weight: 700; border-style: dashed;">
                            <i class="fas fa-check-double" style="margin-right: 6px; color: #8b5cf6;"></i>Les deux
                        </button>
                    </div>
                </div>

                <!-- SECTION BOUTIQUE PHYSIQUE -->
                <div id="fixZoneBoutique" class="hidden">
                    <div style="padding: 16px; background: rgba(59,130,246,0.06); border: 1px solid rgba(59,130,246,0.15); border-radius: 14px; margin-bottom: 16px;">
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent-blue); margin-bottom: 14px;">
                            <i class="fas fa-store-alt" style="margin-right: 6px;"></i>Loyer & Charges Fixes
                        </div>

                        <div class="input-group">
                            <label class="label">Montant total mensuel (Loyer + &#201;lectricit&#233; + Eau) (<span class="devise-label">FCFA</span>)</label>
                            <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                                <button type="button" id="fixBtnLoyerOui" class="btn btn-secondary" style="flex: 1; padding: 8px; font-size: 11px;" onclick="fixToggleLoyer('oui')">Je paye un loyer</button>
                                <button type="button" id="fixBtnLoyerNon" class="btn btn-secondary" style="flex: 1; padding: 8px; font-size: 11px;" onclick="fixToggleLoyer('non')">Je ne paye rien</button>
                            </div>
                            <div id="fixZoneLoyerInput">
                                <input type="number" id="fixBoutiqueLoyerMensuel" class="input" placeholder="50000">
                            </div>
                        </div>

                        <div style="margin-bottom: 14px;">
                            <label class="label" style="margin-bottom: 10px; display: block;">Ce produit est-il le seul vendu dans votre boutique ?</label>
                            <div style="display: flex; gap: 8px;">
                                <button type="button" id="fixBtnProduitSeulOui" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirProduitSeul('oui')">
                                    Oui, le seul
                                </button>
                                <button type="button" id="fixBtnProduitSeulNon" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirProduitSeul('non')">
                                    Non, d'autres aussi
                                </button>
                            </div>
                        </div>

                        <!-- Si OUI : volume de vente -->
                        <div id="fixZoneProduitSeul" class="hidden">
                            <div class="input-group">
                                <label class="label">Combien comptez-vous en vendre ce mois-ci ?</label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="fixBoutiqueVolumeSeul" class="input" placeholder="30" style="flex: 1;" oninput="fixToggleBoutiqueVolumeInput()">
                                    <button type="button" id="fixBtnBoutiqueVolumeInconnu" class="btn btn-secondary" onclick="fixToggleBoutiqueVolumeInconnu()" style="padding: 8px 12px; font-size: 10px; white-space: nowrap;">
                                        Je ne sais pas
                                    </button>
                                </div>
                                <div id="fixZoneBoutiqueVolumeInconnu" class="hidden" style="padding: 10px; background: rgba(59,130,246,0.08); border: 1px solid rgba(59,130,246,0.15); border-radius: 10px; margin-top: 10px;">
                                    <div style="font-size: 10px; color: var(--accent-blue);"><i class="fas fa-info-circle" style="margin-right: 4px;"></i>On utilisera une base prudente de 10 unit&#233;s/mois.</div>
                                </div>
                            </div>
                        </div>

                        <!-- Si NON : combien d'autres produits -->
                        <div id="fixZoneProduitMultiple" class="hidden">
                            <div style="margin-bottom: 14px;">
                                <label class="label" style="margin-bottom: 10px; display: block;">Combien d'autres types de produits vendez-vous ?</label>
                                <div style="display: flex; flex-wrap: wrap; gap: 8px;" id="fixPaliersAutresProduits">
                                    <button type="button" class="btn btn-secondary" style="padding: 8px 14px; font-size: 11px;" onclick="fixChoisirPalier(10)">~10</button>
                                    <button type="button" class="btn btn-secondary" style="padding: 8px 14px; font-size: 11px;" onclick="fixChoisirPalier(20)">~20</button>
                                    <button type="button" class="btn btn-secondary" style="padding: 8px 14px; font-size: 11px;" onclick="fixChoisirPalier(50)">~50</button>
                                    <button type="button" class="btn btn-secondary" style="padding: 8px 14px; font-size: 11px;" onclick="fixChoisirPalier(100)">100+</button>
                                    <button type="button" class="btn btn-secondary" style="padding: 8px 14px; font-size: 11px;" onclick="fixChoisirPalier(-1)">Je ne sais pas</button>
                                </div>
                            </div>

                            <!-- Si "Je ne sais pas" : choisir % du loyer -->
                            <div id="fixZonePourcentLoyer" class="hidden">
                                <label class="label" style="margin-bottom: 10px; display: block;">Quel pourcentage du loyer ce produit doit-il payer ?</label>
                                <div style="display: flex; gap: 8px;" id="fixPourcentBtns">
                                    <button type="button" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPourcent(5)">5%</button>
                                    <button type="button" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPourcent(10)">10%</button>
                                    <button type="button" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPourcent(20)">20%</button>
                                    <button type="button" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPourcent(50)">50%</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION VENTE EN LIGNE -->
                <div id="fixZoneEnLigne" class="hidden">
                    <div style="padding: 16px; background: rgba(245,158,11,0.06); border: 1px solid rgba(245,158,11,0.15); border-radius: 14px; margin-bottom: 16px;">
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent-orange); margin-bottom: 14px;">
                            <i class="fas fa-globe" style="margin-right: 6px;"></i>Budget Pub & Volume
                        </div>

                        <div style="margin-bottom: 14px;">
                            <label class="label" style="margin-bottom: 10px; display: block;">D&#233;pensez-vous de l&#8217;argent en publicit&#233; (Facebook/TikTok) ?</label>
                            <div style="display: flex; gap: 8px; margin-bottom: 10px;">
                                <button type="button" id="fixBtnPubOui" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPub('oui')">
                                    <i class="fas fa-ad"></i> Oui, je fais de la pub
                                </button>
                                <button type="button" id="fixBtnPubNon" class="btn btn-secondary" style="flex: 1; padding: 10px; font-size: 12px;" onclick="fixChoisirPub('non')">
                                    <i class="fas fa-seedling"></i> Non, organique
                                </button>
                            </div>
                        </div>

                        <div id="fixZonePubOui" class="hidden">
                            <div style="margin-bottom: 14px;">
                                <label class="label" style="margin-bottom: 10px; display: block;">Budget publicit&#233; pr&#233;vu pour ce stock (<span class="devise-label">FCFA</span>)</label>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <input type="number" id="fixEnLigneBudgetPub" class="input" placeholder="15000" style="flex: 1;" oninput="fixTogglePubInput()">
                                    <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; white-space: nowrap; font-size: 11px; color: var(--text-muted);">
                                        <input type="checkbox" id="fixPubInconnu" onchange="fixTogglePubInconnu()" style="accent-color: #8b5cf6; width: 16px; height: 16px;">
                                        Je ne sais pas trop
                                    </label>
                                </div>
                            </div>

                            <div id="fixZonePubJour" class="hidden">
                                <div class="input-group">
                                    <label class="label">Combien pouvez-vous payer en moyenne par jour en pub ? (<span class="devise-label">FCFA</span>)</label>
                                    <input type="number" id="fixEnLignePubJour" class="input" placeholder="2000">
                                </div>
                            </div>
                        </div>

                        <div id="fixZonePubNon" class="hidden" style="padding: 12px; background: rgba(16,185,129,0.08); border: 1px solid rgba(16,185,129,0.15); border-radius: 10px; margin-bottom: 14px;">
                            <div style="font-size: 11px; color: var(--accent-green); font-weight: 600;"><i class="fas fa-check-circle" style="margin-right: 6px;"></i>Bravo ! Vous misez sur la cr&#233;ation de contenu organique.</div>
                            <div style="font-size: 10px; color: var(--text-muted); margin-top: 4px;">Votre co&#251;t d&#8217;acquisition est de 0F.</div>
                        </div>

                        <div style="margin-bottom: 0;">
                            <label class="label" style="margin-bottom: 10px; display: block;">Combien de produits pensez-vous vendre ce mois-ci ?</label>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <input type="number" id="fixEnLigneVolume" class="input" placeholder="20" style="flex: 1;" oninput="fixToggleVolumeInput()">
                                <button type="button" id="fixBtnVolumeInconnu" class="btn btn-secondary" onclick="fixToggleVolumeInconnu()" style="padding: 8px 12px; font-size: 10px; white-space: nowrap;">
                                    Je ne sais pas
                                </button>
                            </div>
                            <div id="fixZoneVolumeInconnu" class="hidden" style="padding: 10px; background: rgba(59,130,246,0.08); border: 1px solid rgba(59,130,246,0.15); border-radius: 10px; margin-top: 10px;">
                                <div style="font-size: 10px; color: var(--accent-blue);"><i class="fas fa-info-circle" style="margin-right: 4px;"></i>On utilisera une base prudente de 10 unit&#233;s/mois et on calculera votre seuil de rentabilit&#233;.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SECTION STAFF -->
                <div style="padding: 16px; background: rgba(6,182,212,0.06); border: 1px solid rgba(6,182,212,0.15); border-radius: 14px; margin-bottom: 16px;">
                    <div style="font-size: 12px; font-weight: 700; color: var(--accent-cyan); margin-bottom: 14px;">
                        <i class="fas fa-users" style="margin-right: 6px;"></i>Staff &amp; Aide &#224; la vente
                    </div>

                    <div style="margin-bottom: 14px;">
                        <label class="label" style="margin-bottom: 10px; display: block;">Avez-vous de l&#8217;aide pour g&#233;rer vos ventes ?</label>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <button type="button" id="fixBtnStaffNon" class="btn btn-secondary" style="padding: 10px; font-size: 12px; text-align: left;" onclick="fixChoisirStaff('non')">
                                <i class="fas fa-user" style="margin-right: 6px; color: var(--text-muted);"></i>Non, je g&#232;re seul
                            </button>
                            <button type="button" id="fixBtnStaffSalaire" class="btn btn-secondary" style="padding: 10px; font-size: 12px; text-align: left;" onclick="fixChoisirStaff('salaire')">
                                <i class="fas fa-money-bill-wave" style="margin-right: 6px; color: var(--accent-orange);"></i>Oui, salaire fixe mensuel
                            </button>
                            <button type="button" id="fixBtnStaffCommission" class="btn btn-secondary" style="padding: 10px; font-size: 12px; text-align: left;" onclick="fixChoisirStaff('commission')">
                                <i class="fas fa-handshake" style="margin-right: 6px; color: var(--accent-cyan);"></i>Oui, commission par vente
                            </button>
                        </div>
                    </div>

                    <div id="fixZoneStaffSalaire" class="hidden">
                        <div class="input-group">
                            <label class="label">Montant total des salaires par mois (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixStaffSalaireMontant" class="input" placeholder="50000">
                        </div>
                    </div>

                    <div id="fixZoneStaffCommission" class="hidden">
                        <div class="input-group">
                            <label class="label">Combien donnez-vous par vente conclue ? (<span class="devise-label">FCFA</span>)</label>
                            <input type="number" id="fixStaffCommissionMontant" class="input" placeholder="1000">
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 8px;">
                    <button onclick="fixRetourEtape2()" class="btn btn-secondary" style="padding: 14px 20px; font-size: 13px;">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <button onclick="fixValiderEtape3()" class="btn" style="flex: 1; padding: 14px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; border: none; font-weight: 700; font-size: 14px; border-radius: 12px; cursor: pointer;">
                        Voir le Verdict <i class="fas fa-magic" style="margin-left: 8px;"></i>
                    </button>
                </div>
            </div>

            <!-- ETAPE 4 : Rapport Strategique -->
            <div id="fixRapport" class="hidden">
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 14px; font-weight: 800; color: var(--text-primary); margin-bottom: 4px;">
                        <i class="fas fa-chart-pie" style="color: #8b5cf6; margin-right: 6px;"></i>Rapport Strategique
                    </div>
                    <div style="font-size: 11px; color: var(--text-muted);">Analyse compl&#232;te pour <strong id="fixRapportNom"></strong></div>
                </div>

                <div id="fixAlerteConcurrence" class="hidden" style="padding: 14px 16px; background: rgba(239,68,68,0.1); border: 1px solid rgba(239,68,68,0.3); border-radius: 12px; margin-bottom: 16px;">
                    <div style="font-size: 12px; font-weight: 800; color: var(--accent-red);"><i class="fas fa-exclamation-triangle" style="margin-right: 6px;"></i>Attention</div>
                    <div id="fixAlerteConcurrenceMsg" style="font-size: 11px; color: var(--accent-red); margin-top: 4px;"></div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 16px;">
                    <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px;">
                        <div style="font-size: 9px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 6px;">Co&#251;t de Revient R&#233;el</div>
                        <div id="fixRapportCoutRevient" style="font-size: 22px; font-weight: 900; color: var(--accent-red);">0 F</div>
                        <div style="font-size: 9px; color: var(--text-muted); margin-top: 4px;">Ce que le produit vous co&#251;te vraiment</div>
                    </div>
                    <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px;">
                        <div style="font-size: 9px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 6px;">Prix Souhaite</div>
                        <div id="fixRapportPrixSouhaite" style="font-size: 22px; font-weight: 900; color: var(--accent-blue);">0 F</div>
                        <div id="fixRapportMargeVoulue" style="font-size: 9px; color: var(--text-muted); margin-top: 4px;"></div>
                    </div>
                    <div style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px;">
                        <div style="font-size: 9px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 6px;">B&#233;n&#233;fice / Vente</div>
                        <div id="fixRapportBenefUnit" style="font-size: 22px; font-weight: 900; color: var(--accent-green);">0 F</div>
                        <div id="fixRapportMargePct" style="font-size: 9px; margin-top: 4px;"></div>
                    </div>
                    <div id="fixRapportConcurrentBox" style="padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; display: none;">
                        <div style="font-size: 9px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); margin-bottom: 6px;">Prix Concurrent</div>
                        <div id="fixRapportPrixConcurrent" style="font-size: 22px; font-weight: 900; color: var(--accent-orange);">0 F</div>
                        <div id="fixRapportEcartConcurrent" style="font-size: 9px; margin-top: 4px;"></div>
                    </div>
                </div>

                <div id="fixAnalysePrix" style="padding: 14px 16px; border-radius: 12px; margin-bottom: 16px;"></div>

                <div style="padding: 14px 16px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; margin-bottom: 16px;">
                    <div style="font-size: 11px; font-weight: 700; color: var(--text-primary); margin-bottom: 10px;">
                        <i class="fas fa-search-dollar" style="color: #8b5cf6; margin-right: 6px;"></i>Scanner de Co&#251;ts
                    </div>
                    <div id="fixDetailCouts" style="display: flex; flex-direction: column; gap: 6px;"></div>
                </div>

                <div style="margin-bottom: 16px;">
                    <div style="font-size: 12px; font-weight: 800; color: var(--text-primary); margin-bottom: 12px;">
                        <i class="fas fa-tags" style="color: #8b5cf6; margin-right: 6px;"></i>Grille Tarifaire
                    </div>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="padding: 14px 16px; background: rgba(239,68,68,0.06); border: 1px solid rgba(239,68,68,0.15); border-radius: 12px; border-left: 4px solid var(--accent-red);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-size: 12px; font-weight: 700; color: var(--accent-red);">Minimale (Break-even)</div>
                                    <div style="font-size: 10px; color: var(--text-muted);">Prix coutant exact - 0% marge</div>
                                </div>
                                <div id="fixPrixBreakeven" style="font-size: 20px; font-weight: 900; color: var(--accent-red);">0 F</div>
                            </div>
                        </div>
                        <div style="padding: 14px 16px; background: rgba(245,158,11,0.06); border: 1px solid rgba(245,158,11,0.15); border-radius: 12px; border-left: 4px solid var(--accent-orange);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-size: 12px; font-weight: 700; color: var(--accent-orange);">Prix S&#233;curit&#233;</div>
                                    <div style="font-size: 10px; color: var(--text-muted);">Marge ~15% - couvre tout</div>
                                </div>
                                <div id="fixPrixSecurite" style="font-size: 20px; font-weight: 900; color: var(--accent-orange);">0 F</div>
                            </div>
                        </div>
                        <div style="padding: 14px 16px; background: rgba(16,185,129,0.06); border: 1px solid rgba(16,185,129,0.15); border-radius: 12px; border-left: 4px solid var(--accent-green);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-size: 12px; font-weight: 700; color: var(--accent-green);">Prix Conseill&#233;</div>
                                    <div id="fixPrixConseilleDesc" style="font-size: 10px; color: var(--text-muted);">Marge 30-40%</div>
                                </div>
                                <div id="fixPrixConseille" style="font-size: 20px; font-weight: 900; color: var(--accent-green);">0 F</div>
                            </div>
                        </div>
                        <div style="padding: 14px 16px; background: rgba(139,92,246,0.06); border: 1px solid rgba(139,92,246,0.15); border-radius: 12px; border-left: 4px solid #8b5cf6;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-size: 12px; font-weight: 700; color: #8b5cf6;">Prix Croissance (Premium)</div>
                                    <div style="font-size: 10px; color: var(--text-muted);">Marge 60%+ - gros profit</div>
                                </div>
                                <div id="fixPrixPremium" style="font-size: 20px; font-weight: 900; color: #8b5cf6;">0 F</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Point Mort -->
                <div id="fixPointMort" style="padding: 14px 16px; background: rgba(59,130,246,0.06); border: 1px solid rgba(59,130,246,0.15); border-radius: 14px; margin-bottom: 16px; display: none;">
                    <div style="font-size: 11px; font-weight: 700; color: var(--accent-blue); margin-bottom: 8px;">
                        <i class="fas fa-crosshairs" style="margin-right: 6px;"></i>Point Mort (Seuil de Rentabilit&#233;)
                    </div>
                    <div id="fixPointMortMsg" style="font-size: 12px; color: var(--text-secondary); line-height: 1.6;"></div>
                </div>

                <!-- Grille de Benefices -->
                <div id="fixGrilleBenefices" style="padding: 14px 16px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; margin-bottom: 16px; display: none;">
                    <div style="font-size: 11px; font-weight: 700; color: var(--text-primary); margin-bottom: 10px;">
                        <i class="fas fa-table" style="color: #8b5cf6; margin-right: 6px;"></i>Grille de B&#233;n&#233;fices
                    </div>
                    <div id="fixGrilleContenu"></div>
                </div>

                <div style="padding: 16px; background: linear-gradient(135deg, rgba(139,92,246,0.08), rgba(236,72,153,0.08)); border: 1px solid rgba(139,92,246,0.2); border-radius: 14px; margin-bottom: 16px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #8b5cf6, #ec4899); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-robot" style="font-size: 16px; color: white;"></i>
                        </div>
                        <div style="font-size: 12px; font-weight: 800; color: var(--text-primary);">Conseil VEKO</div>
                    </div>
                    <div id="fixConseilVeko" style="font-size: 12px; line-height: 1.7; color: var(--text-secondary);"></div>
                </div>

                <!-- Scenarios de Vie -->
                <div style="margin-bottom: 16px;">
                    <div style="font-size: 12px; font-weight: 800; color: var(--text-primary); margin-bottom: 12px;">
                        <i class="fas fa-lightbulb" style="color: #8b5cf6; margin-right: 6px;"></i>Sc&#233;narios de Vie
                    </div>

                    <div id="fixScenarioAligne" style="padding: 14px 16px; background: rgba(245,158,11,0.06); border: 1px solid rgba(245,158,11,0.15); border-radius: 12px; border-left: 4px solid var(--accent-orange); margin-bottom: 10px; display: none;">
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent-orange); margin-bottom: 6px;">Sc&#233;nario ALIGN&#201; (prix concurrent)</div>
                        <div id="fixScenarioAligneMsg" style="font-size: 11px; color: var(--text-secondary); line-height: 1.5;"></div>
                    </div>

                    <div id="fixScenarioPocheSection" style="padding: 14px 16px; background: rgba(16,185,129,0.06); border: 1px solid rgba(16,185,129,0.15); border-radius: 12px; border-left: 4px solid var(--accent-green); margin-bottom: 10px; display: none;">
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent-green); margin-bottom: 6px;">Sc&#233;nario POCHE (votre objectif net)</div>
                        <div id="fixScenarioPocheMsg" style="font-size: 11px; color: var(--text-secondary); line-height: 1.5;"></div>
                    </div>

                    <div style="padding: 14px 16px; background: rgba(59,130,246,0.06); border: 1px solid rgba(59,130,246,0.15); border-radius: 12px; border-left: 4px solid var(--accent-blue); margin-bottom: 10px;">
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent-blue); margin-bottom: 6px;">Sc&#233;nario &#201;QUILIBRE (+20% s&#233;curit&#233;)</div>
                        <div id="fixScenarioEquilibreMsg" style="font-size: 11px; color: var(--text-secondary); line-height: 1.5;"></div>
                    </div>
                </div>

                <!-- Comment justifier ce prix -->
                <div id="fixJustifierPrix" style="padding: 16px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 14px; margin-bottom: 16px; display: none;">
                    <div style="font-size: 11px; font-weight: 700; color: var(--text-primary); margin-bottom: 10px;">
                        <i class="fas fa-gem" style="color: #ec4899; margin-right: 6px;"></i>Comment justifier un prix plus haut ?
                    </div>
                    <div id="fixJustifierContenu" style="display: flex; flex-direction: column; gap: 8px;"></div>
                </div>

                <button onclick="fixRecommencer()" class="btn btn-secondary" style="width: 100%; padding: 14px; font-size: 13px;">
                    <i class="fas fa-redo" style="margin-right: 8px;"></i>Nouvelle analyse
                </button>
            </div>
        </div>

    </div>
    <div id="page-projets" class="page">
        
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <div class="section-title" style="margin: 0;">
                    <i class="fas fa-folder-open"></i>
                    Catalogue Produits
                </div>
                <button onclick="openModalProjet()" style="padding: 10px 18px; background: var(--gradient-success); color: white; border: none; border-radius: 10px; font-size: 12px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);">
                    <i class="fas fa-plus"></i> Nouveau
                </button>
            </div>
            
            <p style="font-size: 12px; color: var(--text-muted); margin-bottom: 16px;">
                Enregistrez vos produits pour automatiser vos calculs.
            </p>
            
            <div id="listeProjets">
                <div class="empty-state">
                    <i class="fas fa-box-open"></i>
                    <p>Aucun produit enregistre.<br>Cliquez sur "Nouveau" pour commencer !</p>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE: COMMANDES -->
    <div id="page-historique" class="page">
        
        <!-- Recherche -->
        <div class="card" style="padding: 14px 16px;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-search" style="color: var(--text-muted); font-size: 14px;"></i>
                <input type="text" id="searchClient" class="input" placeholder="Recherche : nom, telephone, produit..." oninput="afficherHistorique()" style="margin: 0; border: none; background: none; padding: 8px 0; flex: 1;">
            </div>
            <div id="searchSuggestions" style="display: none; margin-top: 8px; border-top: 1px solid var(--diamond-border); padding-top: 8px;"></div>
        </div>

        <!-- Stats resume -->
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 16px;">
            <div class="stat-card">
                <div class="stat-value counter-animate" id="statNbVentes">0</div>
                <div class="stat-label">Commandes</div>
            </div>
            <div class="stat-card">
                <div class="stat-value counter-animate" id="statBenefice" style="color: var(--accent-green);">0 F</div>
                <div class="stat-label">Benefice</div>
            </div>
            <div class="stat-card">
                <div class="stat-value counter-animate" id="statPanierMoyen" style="color: var(--accent-purple);">0 F</div>
                <div class="stat-label">Panier Moyen</div>
            </div>
        </div>

        <!-- Periode + Filtre entonnoir -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                <div class="section-title" style="margin: 0;">
                    <i class="fas fa-calendar"></i>
                    Periode
                </div>
                <button onclick="toggleFiltresDates()" style="padding: 6px 10px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 8px; color: var(--text-muted); font-size: 14px; cursor: pointer;">
                    <i class="fas fa-filter"></i>
                </button>
            </div>
            <div class="grid-2" style="margin-bottom: 12px;">
                <button class="btn btn-primary" onclick="filtrerPeriode('jour')" id="btn-jour">Aujourd'hui</button>
                <button class="btn btn-secondary" onclick="filtrerPeriode('semaine')" id="btn-semaine">Cette Semaine</button>
                <button class="btn btn-secondary" onclick="filtrerPeriode('mois')" id="btn-mois">Ce Mois</button>
                <button class="btn btn-secondary" onclick="filtrerPeriode('tout')" id="btn-tout">Tout</button>
            </div>
            <div style="margin-bottom: 8px;">
                <select id="filtreProduit" class="input" style="font-size: 12px; padding: 10px;" onchange="afficherHistorique()">
                    <option value="">Tous les produits</option>
                </select>
            </div>
            <!-- Filtres dates personnalises (caches par defaut) -->
            <div id="filtresDatesCustom" style="display: none; margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--diamond-border);">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                    <div>
                        <label class="label" style="font-size: 10px;">Date debut</label>
                        <input type="date" id="filtreeDateDebut" class="input" style="font-size: 11px; padding: 8px;" onchange="afficherHistorique()">
                    </div>
                    <div>
                        <label class="label" style="font-size: 10px;">Date fin</label>
                        <input type="date" id="filtreeDateFin" class="input" style="font-size: 11px; padding: 8px;" onchange="afficherHistorique()">
                    </div>
                </div>
                <button onclick="resetFiltresCommandes()" style="width: 100%; padding: 8px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 8px; color: var(--text-muted); font-size: 11px; cursor: pointer;">
                    <i class="fas fa-redo"></i> Reinitialiser les filtres
                </button>
            </div>
        </div>

        <!-- Resume financier -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-chart-line"></i>
                Resume Financier
            </div>
            <div class="info-row">
                <span class="info-label">Chiffre d'affaires</span>
                <span class="info-value" id="statCA">0 F</span>
            </div>
            <div class="info-row">
                <span class="info-label">Total depenses</span>
                <span class="info-value" id="statDepenses">0 F</span>
            </div>
            <div class="info-row">
                <span class="info-label">Marge nette</span>
                <span class="info-value" id="statMarge">0%</span>
            </div>
        </div>

        <!-- Performance par Produit -->
        <div class="card" id="cardPerformanceProjets" style="display: none;">
            <div class="section-title">
                <i class="fas fa-chart-pie"></i>
                Performance par Produit
            </div>
            <div id="performanceProjets"></div>
        </div>

        <!-- Repartir la pub -->
        <div class="card" id="cardRepartirPub" style="display: none;">
            <div class="section-title">
                <i class="fas fa-bullhorn"></i>
                Repartir la Pub du Jour
            </div>
            <p style="font-size: 12px; color: var(--text-muted); margin-bottom: 16px;">
                Entrez le montant depense sur Meta Ads.
            </p>
            
            <div class="input-group">
                <label class="label">Devise utilisee sur Meta Ads</label>
                <select id="deviseMeta" class="input" onchange="calculerConversionPub()">
                    <option value="XAF">FCFA / XAF</option>
                    <option value="USD">USD (Dollar US)</option>
                    <option value="EUR">EUR (Euro)</option>
                    <option value="GBP">GBP (Livre Sterling)</option>
                    <option value="CAD">CAD (Dollar Canadien)</option>
                    <option value="AUD">AUD (Dollar Australien)</option>
                    <option value="CHF">CHF (Franc Suisse)</option>
                    <option value="JPY">JPY (Yen Japonais)</option>
                    <option value="CNY">CNY (Yuan Chinois)</option>
                    <option value="INR">INR (Roupie Indienne)</option>
                    <option value="BRL">BRL (Real Bresilien)</option>
                    <option value="MXN">MXN (Peso Mexicain)</option>
                    <option value="ZAR">ZAR (Rand Sud-Africain)</option>
                    <option value="NGN">NGN (Naira Nigerian)</option>
                    <option value="GHS">GHS (Cedi Ghaneen)</option>
                    <option value="KES">KES (Shilling Kenyan)</option>
                    <option value="MAD">MAD (Dirham Marocain)</option>
                    <option value="TND">TND (Dinar Tunisien)</option>
                    <option value="EGP">EGP (Livre Egyptienne)</option>
                    <option value="AED">AED (Dirham Emirats)</option>
                    <option value="SAR">SAR (Riyal Saoudien)</option>
                    <option value="NZD">NZD (Dollar Neo-Zelandais)</option>
                    <option value="SGD">SGD (Dollar Singapour)</option>
                    <option value="HKD">HKD (Dollar Hong Kong)</option>
                    <option value="SEK">SEK (Couronne Suedoise)</option>
                    <option value="NOK">NOK (Couronne Norvegienne)</option>
                    <option value="DKK">DKK (Couronne Danoise)</option>
                    <option value="PLN">PLN (Zloty Polonais)</option>
                    <option value="TRY">TRY (Livre Turque)</option>
                    <option value="THB">THB (Baht Thailandais)</option>
                    <option value="MYR">MYR (Ringgit Malaisien)</option>
                    <option value="IDR">IDR (Roupie Indonesienne)</option>
                    <option value="PHP">PHP (Peso Philippin)</option>
                    <option value="VND">VND (Dong Vietnamien)</option>
                    <option value="KRW">KRW (Won Sud-Coreen)</option>
                    <option value="COP">COP (Peso Colombien)</option>
                    <option value="ARS">ARS (Peso Argentin)</option>
                </select>
            </div>
            
            <div class="input-group">
                <label class="label">Montant depense en <span id="deviseMetaLabel">FCFA</span></label>
                <input type="number" id="budgetPubJour" class="input" placeholder="10000" oninput="calculerConversionPub()">
            </div>
            
            <div id="resultatConversion" style="display: none; background: rgba(16, 185, 129, 0.1); padding: 12px; border-radius: 10px; margin-bottom: 16px; border-left: 4px solid var(--accent-green);">
                <div style="font-size: 11px; color: var(--accent-green); font-weight: 600; margin-bottom: 4px;">
                    Montant converti
                </div>
                <div style="font-size: 20px; color: var(--accent-green); font-weight: 900;" id="montantConverti">0 FCFA</div>
            </div>
            
            <button class="btn btn-success" onclick="repartirPubJour()">
                <i class="fas fa-calculator"></i> Calculer et Repartir
            </button>
        </div>

        <!-- Liste des commandes -->
        <div class="card">
            <div class="section-title">
                <i class="fas fa-list"></i>
                Detail des Commandes
            </div>
            <div id="listeVentes">
                <div class="empty-state">
                    <i class="fas fa-inbox"></i>
                    <p>Aucune commande enregistree</p>
                </div>
            </div>
        </div>

        <!-- Rapport CEO + Export/Import en bas -->
        <div class="card" style="background: var(--gradient-primary); border: none; padding: 18px;">
            <button onclick="genererRapportPDF()" style="width: 100%; background: white; color: var(--accent-blue); border: none; padding: 14px; border-radius: 12px; font-weight: 700; font-size: 14px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                <i class="fas fa-file-pdf" style="font-size: 18px;"></i>
                Generer mon Rapport CEO
            </button>
            <div style="font-size: 11px; color: white; opacity: 0.9; text-align: center; margin-top: 10px;">
                Exportez vos statistiques en PDF professionnel
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px;">
            <button onclick="exporterDonnees()" class="btn btn-secondary" style="padding: 12px; font-size: 12px;">
                <i class="fas fa-download"></i> Exporter
            </button>
            <button onclick="importerDonnees()" class="btn btn-secondary" style="padding: 12px; font-size: 12px;">
                <i class="fas fa-upload"></i> Importer
            </button>
        </div>
    </div>

    <!-- PAGE: CLIENTS -->
    <div id="page-clients" class="page">
        <div class="card">
            <div class="section-title">
                <i class="fas fa-users"></i>
                Mes Clients
            </div>
            <input type="text" id="searchClientPage" class="input" placeholder="Rechercher un client..." oninput="afficherClients()" style="margin-bottom: 16px;">
            <div id="listeClients">
                <div class="empty-state">
                    <i class="fas fa-user-plus"></i>
                    <p>Aucun client enregistre.<br>Ajoutez des ventes avec un nom de client !</p>
                </div>
            </div>
        </div>
    </div>

    <!-- PAGE: PARAMETRES -->
    <div id="page-parametres" class="page">
        <div style="padding: 20px 16px 120px; max-width: 600px; margin: 0 auto;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px;">
                <button onclick="showTab('dashboard')" style="width: 36px; height: 36px; border-radius: 50%; background: rgba(255,255,255,0.08); border: 1px solid var(--diamond-border); display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-secondary);"><i class="fas fa-arrow-left"></i></button>
                <h2 style="font-size: 20px; font-weight: 800; color: var(--text-primary);">Param&#232;tres</h2>
            </div>

            <div class="glass-card" style="text-align: center; padding: 24px;">
                <div style="width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); display: flex; align-items: center; justify-content: center; margin: 0 auto 12px; font-size: 24px; color: white;"><i class="fas fa-user"></i></div>
                <div id="settingsUsername" style="font-size: 16px; font-weight: 700; color: var(--text-primary); margin-bottom: 4px;"></div>
                <div id="settingsEmail" style="font-size: 12px; color: var(--text-muted);"></div>
            </div>

            <div class="glass-card">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(59,130,246,0.2); display: flex; align-items: center; justify-content: center; color: var(--accent-blue);"><i class="fas fa-id-card" style="font-size: 13px;"></i></div>
                    <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">Informations personnelles</span>
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Nom d'utilisateur</label>
                    <input type="text" id="settingsInputUsername" placeholder="Votre pseudo" style="width: 100%; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Pr&#233;nom</label>
                    <input type="text" id="settingsPrenom" placeholder="Pr&#233;nom" style="width: 100%; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Nom</label>
                    <input type="text" id="settingsNom" placeholder="Nom de famille" style="width: 100%; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">T&#233;l&#233;phone</label>
                    <div style="display: flex; gap: 8px;">
                        <select id="settingsIndicatif" style="width: 110px; padding: 12px 8px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 12px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                            <option value="+93">+93 AF</option>
                            <option value="+355">+355 AL</option>
                            <option value="+213">+213 DZ</option>
                            <option value="+376">+376 AD</option>
                            <option value="+244">+244 AO</option>
                            <option value="+54">+54 AR</option>
                            <option value="+61">+61 AU</option>
                            <option value="+43">+43 AT</option>
                            <option value="+973">+973 BH</option>
                            <option value="+880">+880 BD</option>
                            <option value="+32">+32 BE</option>
                            <option value="+229">+229 BJ</option>
                            <option value="+55">+55 BR</option>
                            <option value="+226">+226 BF</option>
                            <option value="+257">+257 BI</option>
                            <option value="+237">+237 CM</option>
                            <option value="+1">+1 CA/US</option>
                            <option value="+236">+236 CF</option>
                            <option value="+235">+235 TD</option>
                            <option value="+86">+86 CN</option>
                            <option value="+57">+57 CO</option>
                            <option value="+269">+269 KM</option>
                            <option value="+242">+242 CG</option>
                            <option value="+243">+243 CD</option>
                            <option value="+225">+225 CI</option>
                            <option value="+385">+385 HR</option>
                            <option value="+53">+53 CU</option>
                            <option value="+45">+45 DK</option>
                            <option value="+253">+253 DJ</option>
                            <option value="+20">+20 EG</option>
                            <option value="+34">+34 ES</option>
                            <option value="+251">+251 ET</option>
                            <option value="+358">+358 FI</option>
                            <option value="+33" selected>+33 FR</option>
                            <option value="+241">+241 GA</option>
                            <option value="+220">+220 GM</option>
                            <option value="+49">+49 DE</option>
                            <option value="+233">+233 GH</option>
                            <option value="+30">+30 GR</option>
                            <option value="+224">+224 GN</option>
                            <option value="+245">+245 GW</option>
                            <option value="+509">+509 HT</option>
                            <option value="+91">+91 IN</option>
                            <option value="+62">+62 ID</option>
                            <option value="+98">+98 IR</option>
                            <option value="+964">+964 IQ</option>
                            <option value="+353">+353 IE</option>
                            <option value="+972">+972 IL</option>
                            <option value="+39">+39 IT</option>
                            <option value="+81">+81 JP</option>
                            <option value="+962">+962 JO</option>
                            <option value="+254">+254 KE</option>
                            <option value="+82">+82 KR</option>
                            <option value="+961">+961 LB</option>
                            <option value="+231">+231 LR</option>
                            <option value="+218">+218 LY</option>
                            <option value="+352">+352 LU</option>
                            <option value="+261">+261 MG</option>
                            <option value="+265">+265 MW</option>
                            <option value="+60">+60 MY</option>
                            <option value="+223">+223 ML</option>
                            <option value="+212">+212 MA</option>
                            <option value="+222">+222 MR</option>
                            <option value="+230">+230 MU</option>
                            <option value="+52">+52 MX</option>
                            <option value="+258">+258 MZ</option>
                            <option value="+227">+227 NE</option>
                            <option value="+234">+234 NG</option>
                            <option value="+47">+47 NO</option>
                            <option value="+31">+31 NL</option>
                            <option value="+92">+92 PK</option>
                            <option value="+507">+507 PA</option>
                            <option value="+51">+51 PE</option>
                            <option value="+63">+63 PH</option>
                            <option value="+48">+48 PL</option>
                            <option value="+351">+351 PT</option>
                            <option value="+974">+974 QA</option>
                            <option value="+40">+40 RO</option>
                            <option value="+44">+44 GB</option>
                            <option value="+7">+7 RU</option>
                            <option value="+250">+250 RW</option>
                            <option value="+221">+221 SN</option>
                            <option value="+232">+232 SL</option>
                            <option value="+65">+65 SG</option>
                            <option value="+252">+252 SO</option>
                            <option value="+249">+249 SD</option>
                            <option value="+46">+46 SE</option>
                            <option value="+41">+41 CH</option>
                            <option value="+255">+255 TZ</option>
                            <option value="+228">+228 TG</option>
                            <option value="+216">+216 TN</option>
                            <option value="+90">+90 TR</option>
                            <option value="+256">+256 UG</option>
                            <option value="+380">+380 UA</option>
                            <option value="+971">+971 AE</option>
                            <option value="+598">+598 UY</option>
                            <option value="+58">+58 VE</option>
                            <option value="+84">+84 VN</option>
                            <option value="+967">+967 YE</option>
                            <option value="+260">+260 ZM</option>
                            <option value="+263">+263 ZW</option>
                        </select>
                        <input type="tel" id="settingsTelephone" placeholder="Num&#233;ro de t&#233;l&#233;phone" style="flex: 1; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                    </div>
                </div>

                <button onclick="saveSettingsProfile()" id="btnSaveProfile" style="width: 100%; padding: 13px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; border-radius: 10px; font-size: 13px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 6px;">
                    <i class="fas fa-save"></i> Enregistrer
                </button>
                <div id="settingsSaveMsg" style="display: none; margin-top: 10px; padding: 10px; border-radius: 8px; text-align: center; font-size: 12px;"></div>
            </div>

            <div class="glass-card">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(239,68,68,0.2); display: flex; align-items: center; justify-content: center; color: var(--accent-red);"><i class="fas fa-shield-alt" style="font-size: 13px;"></i></div>
                    <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">S&#233;curit&#233;</span>
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Nouveau mot de passe</label>
                    <input type="password" id="settingsNewPwd" placeholder="Min. 6 caract&#232;res" style="width: 100%; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                </div>

                <div style="margin-bottom: 14px;">
                    <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Confirmer le mot de passe</label>
                    <input type="password" id="settingsConfirmPwd" placeholder="Retapez le mot de passe" style="width: 100%; padding: 12px 14px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-radius: 10px; color: var(--text-primary); font-size: 13px; outline: none; font-family: 'Inter', sans-serif;" onfocus="this.style.borderColor='#8b5cf6'" onblur="this.style.borderColor='var(--diamond-border)'">
                </div>

                <button onclick="changePasswordFromSettings()" id="btnChangePwd" style="width: 100%; padding: 13px; background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%); color: white; border: none; border-radius: 10px; font-size: 13px; font-weight: 700; cursor: pointer; font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <i class="fas fa-key"></i> Modifier le mot de passe
                </button>
                <div id="settingsPwdMsg" style="display: none; margin-top: 10px; padding: 10px; border-radius: 8px; text-align: center; font-size: 12px;"></div>
            </div>

            <!-- Section Shopify -->
            <div class="glass-card">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(150,191,72,0.2); display: flex; align-items: center; justify-content: center; color: #96bf48;"><i class="fab fa-shopify" style="font-size: 16px;"></i></div>
                    <span style="font-size: 14px; font-weight: 700; color: var(--text-primary);">Integration Shopify</span>
                </div>
                <div id="shopifyStatus">
                    <div style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--glass-bg); border: 1px solid var(--diamond-border); border-radius: 12px; margin-bottom: 12px;">
                        <i class="fab fa-shopify" style="font-size: 24px; color: var(--text-muted);"></i>
                        <div>
                            <div style="font-size: 13px; font-weight: 600; color: var(--text-secondary);">Aucune boutique connectee.</div>
                            <div style="font-size: 11px; color: var(--text-muted);">Connectez votre boutique Shopify pour synchroniser vos commandes.</div>
                        </div>
                    </div>
                    <button onclick="openShopifyModal()" style="width: 100%; padding: 13px; background: linear-gradient(135deg, #96bf48 0%, #5e8e3e 100%); color: white; border: none; border-radius: 10px; font-size: 13px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                        <i class="fab fa-shopify"></i> Connecter ma boutique
                    </button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 16px;">
                <a href="#" onclick="openModalConfidentialite(); return false;" style="font-size: 12px; color: var(--text-muted); text-decoration: underline;">Politique de Confidentialit&#233; &amp; S&#233;curit&#233;</a>
            </div>
            <div style="text-align: center; margin-top: 8px;">
                <a href="privacy.html" style="font-size: 11px; color: var(--text-muted); text-decoration: none;">Voir la version compl&#232;te</a>
            </div>
            <div style="text-align: center; margin-top: 8px; font-size: 10px; color: var(--text-muted);">
                &#169; 2026 VEKO. Tous droits r&#233;serv&#233;s.
            </div>
        </div>
    </div>

        </div> <!-- End main-content -->

    <!-- FAB (Floating Action Button) with menu -->
    <div class="fab-container">
        <div class="fab-menu" id="fabMenu">
            <div class="fab-item">
                <span>Calcul</span>
                <button onclick="showTab('nouvelle'); toggleFab(); hapticFeedback();" style="background: var(--accent-blue);">
                    <i class="fas fa-calculator"></i>
                </button>
            </div>
            <div class="fab-item">
                <span>Clients</span>
                <button onclick="showTab('clients'); toggleFab(); hapticFeedback();" style="background: var(--accent-purple);">
                    <i class="fas fa-users"></i>
                </button>
            </div>
            <div class="fab-item">
                <span>Labo</span>
                <button onclick="showTab('simulation'); toggleFab(); hapticFeedback();" style="background: linear-gradient(135deg, #8b5cf6, #ec4899);">
                    <i class="fas fa-flask"></i>
                </button>
            </div>
        </div>
        <button class="fab-main" id="fabMain" onclick="toggleFab(); hapticFeedback();">
            <i class="fas fa-plus"></i>
        </button>
    </div>

    <!-- BOTTOM NAVIGATION -->
    <nav class="bottom-nav">
        <div class="bottom-nav-content">
            <button id="navDashboard" class="nav-tab active" onclick="showTab('dashboard')">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </button>
            <button id="navCalcul" class="nav-tab" onclick="showTab('nouvelle')">
                <i class="fas fa-calculator"></i>
                <span>Calcul</span>
            </button>
            <button id="navProjets" class="nav-tab" onclick="showTab('projets')">
                <i class="fas fa-box"></i>
                <span>Produits</span>
            </button>
            <button id="navHistorique" class="nav-tab" onclick="showTab('historique')">
                <i class="fas fa-receipt"></i>
                <span>Commandes</span>
            </button>
        </div>
    </nav>

    <!-- MODAL: Nouveau Produit -->
    <div id="modalProjet" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-folder-plus"></i>
                    Nouveau Produit
                </div>
                <button class="modal-close" onclick="closeModalProjet()">&times;</button>
            </div>
            
            <div class="input-group">
                <label class="label">Nom du produit</label>
                <input type="text" id="projetNom" class="input" placeholder="Ex: Chaussures Nike">
            </div>

            <div class="input-group">
                <label class="label">Prix de vente unitaire (<span class="devise-label">FCFA</span>)</label>
                <input type="number" id="projetPrixVente" class="input" placeholder="15000">
            </div>

            <div style="display: flex; gap: 8px; margin-bottom: 20px;">
                <button type="button" id="btnProjetFournisseur" class="btn btn-primary" style="flex: 1; padding: 12px; font-size: 13px;" onclick="changerTypeProjet('fournisseur')">
                    <i class="fas fa-truck"></i> Fournisseur
                </button>
                <button type="button" id="btnProjetProduction" class="btn btn-secondary" style="flex: 1; padding: 12px; font-size: 13px;" onclick="changerTypeProjet('production')">
                    <i class="fas fa-industry"></i> Production
                </button>
            </div>

            <div id="projetFormFournisseur">
                <div class="input-group">
                    <label class="label">Prix d'achat unitaire (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="projetPrixAchat" class="input" placeholder="2500">
                </div>
                
                <div class="input-group">
                    <label class="label">Nombre d'articles achetes</label>
                    <input type="number" id="projetNbArticles" class="input" placeholder="10">
                </div>
                
                <div class="input-group">
                    <label class="label">Frais de livraison / Transport (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="projetFraisLivraison" class="input" placeholder="5000" value="0">
                </div>
            </div>

            <div id="projetFormProduction" class="hidden">
                <div class="input-group">
                    <label class="label">Cout matieres premieres (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="projetCoutMatieres" class="input" placeholder="15000">
                </div>
                
                <div class="input-group">
                    <label class="label">Cout main d'oeuvre (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="projetCoutMainOeuvre" class="input" placeholder="5000">
                </div>
                
                <div class="input-group">
                    <label class="label">Autres frais de production (<span class="devise-label">FCFA</span>)</label>
                    <input type="number" id="projetAutresFrais" class="input" placeholder="2000" value="0">
                </div>
                
                <div class="input-group">
                    <label class="label">Nombre de produits fabriques</label>
                    <input type="number" id="projetNbProduits" class="input" placeholder="10">
                </div>
            </div>
            
            <button class="btn btn-success" onclick="sauvegarderProjet()">
                <i class="fas fa-save"></i>
                Enregistrer le produit
            </button>
        </div>
    </div>

    <!-- MODAL: Devise -->
    <div id="modalDevise" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-coins"></i>
                    Devise d'Affichage
                </div>
                <button class="modal-close" onclick="closeModalDevise()">&times;</button>
            </div>
            
            <div class="input-group">
                <label class="label">Selectionnez votre devise</label>
                <select id="selectDevise" class="input">
                    <option value="FCFA">FCFA (Franc CFA)</option>
                    <option value="EUR">EUR (Euro)</option>
                    <option value="USD">USD (Dollar US)</option>
                    <option value="CAD">CAD (Dollar Canadien)</option>
                    <option value="GBP">GBP (Livre Sterling)</option>
                    <option value="MAD">MAD (Dirham Marocain)</option>
                    <option value="XOF">XOF (Franc CFA BCEAO)</option>
                    <option value="GNF">GNF (Franc Guineen)</option>
                    <option value="NGN">NGN (Naira Nigerian)</option>
                    <option value="ZAR">ZAR (Rand Sud-Africain)</option>
                    <option value="KES">KES (Shilling Kenyan)</option>
                    <option value="TZS">TZS (Shilling Tanzanien)</option>
                    <option value="UGX">UGX (Shilling Ougandais)</option>
                    <option value="RWF">RWF (Franc Rwandais)</option>
                    <option value="BIF">BIF (Franc Burundais)</option>
                    <option value="CDF">CDF (Franc Congolais)</option>
                    <option value="AOA">AOA (Kwanza Angolais)</option>
                    <option value="MZN">MZN (Metical Mozambicain)</option>
                    <option value="EGP">EGP (Livre Egyptienne)</option>
                    <option value="DZD">DZD (Dinar Algerien)</option>
                    <option value="TND">TND (Dinar Tunisien)</option>
                    <option value="CHF">CHF (Franc Suisse)</option>
                    <option value="INR">INR (Roupie Indienne)</option>
                    <option value="CNY">CNY (Yuan Chinois)</option>
                    <option value="JPY">JPY (Yen Japonais)</option>
                    <option value="AED">AED (Dirham Emirats)</option>
                    <option value="SAR">SAR (Riyal Saoudien)</option>
                    <option value="BRL">BRL (Real Bresilien)</option>
                    <option value="MXN">MXN (Peso Mexicain)</option>
                    <option value="ARS">ARS (Peso Argentin)</option>
                </select>
            </div>
            
            <button class="btn btn-primary" onclick="saveDevise()">
                <i class="fas fa-check"></i>
                Confirmer
            </button>
        </div>
    </div>

    <!-- MODAL: Objectif -->
    <div id="modalObjectif" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-bullseye"></i>
                    Definir un Objectif
                </div>
                <button class="modal-close" onclick="closeModalObjectif()">&times;</button>
            </div>
            
            <div class="input-group">
                <label class="label">Type d'objectif</label>
                <select id="objectifType" class="input">
                    <option value="CA">Chiffre d'Affaires (CA)</option>
                    <option value="Benefice">Benefice Net</option>
                    <option value="Ventes">Nombre de Ventes</option>
                </select>
            </div>
            
            <div class="input-group">
                <label class="label">Montant de l'objectif</label>
                <input type="number" id="objectifMontant" class="input" placeholder="Ex: 500000">
            </div>
            
            <div class="input-group">
                <label class="label">Date de debut</label>
                <div class="calendar-input">
                    <input type="date" id="objectifDateDebut" class="input">
                    <i class="fas fa-calendar"></i>
                </div>
            </div>
            
            <div class="input-group">
                <label class="label">Date de fin</label>
                <div class="calendar-input">
                    <input type="date" id="objectifDateFin" class="input">
                    <i class="fas fa-calendar"></i>
                </div>
            </div>
            
            <button class="btn btn-success" onclick="saveObjectif()">
                <i class="fas fa-check"></i>
                Valider l'objectif
            </button>
        </div>
    </div>

    <!-- MODAL: Profil -->
    <div id="modalProfil" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-user-edit"></i>
                    Personnaliser le Profil
                </div>
                <button class="modal-close" onclick="closeModalProfil()">&times;</button>
            </div>
            
            <div class="input-group">
                <label class="label">Votre nom / pseudo</label>
                <input type="text" id="inputNomProfil" class="input" placeholder="Ex: Jean, Boss, Patron...">
            </div>
            
            <div class="input-group">
                <label class="label">Objectif journalier (<span class="devise-label">FCFA</span>)</label>
                <input type="number" id="inputObjectifJour" class="input" placeholder="50000" value="50000">
            </div>
            
            <!-- Theme Selector -->
            <div class="input-group">
                <label class="label">Theme de l'application</label>
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <button type="button" id="themeDark" class="btn btn-secondary theme-btn" style="flex: 1; padding: 12px;" onclick="setTheme('dark')">
                        <i class="fas fa-moon"></i> Sombre
                    </button>
                    <button type="button" id="themeLight" class="btn btn-secondary theme-btn" style="flex: 1; padding: 12px;" onclick="setTheme('light')">
                        <i class="fas fa-sun"></i> Jour
                    </button>
                    <button type="button" id="themeAuto" class="btn btn-secondary theme-btn" style="flex: 1; padding: 12px;" onclick="setTheme('auto')">
                        <i class="fas fa-adjust"></i> Auto
                    </button>
                </div>
            </div>
            
            <!-- Mode Economie de donnees -->
            <div class="input-group">
                <label class="label">Mode Economie de donnees</label>
                <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 8px; padding: 12px; background: var(--glass-bg); border-radius: 12px; border: 1px solid var(--diamond-border);">
                    <div>
                        <div style="font-size: 13px; font-weight: 600; color: var(--text-primary);">Basse consommation</div>
                        <div style="font-size: 11px; color: var(--text-muted);">Desactive animations et polices externes</div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="modeEconomie" onchange="toggleModeEconomie()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
            
            <button class="btn btn-success" onclick="sauvegarderProfil()">
                <i class="fas fa-save"></i>
                Enregistrer
            </button>
        </div>
    </div>

    </div> <!-- End container -->
</div> <!-- End mainApp -->


<script src="script.js"></script>

<!-- MODAL CONFIDENTIALITE -->
<div id="modalConfidentialite" class="hidden" style="position: fixed; inset: 0; background: rgba(0,0,0,0.75); display: flex; align-items: center; justify-content: center; z-index: 99999; padding: 16px;">
    <div style="background: var(--dark-card); border: 1px solid var(--diamond-border); border-radius: 20px; max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto; padding: 28px; position: relative; box-shadow: 0 25px 80px rgba(0,0,0,0.5);">
        <button onclick="closeModalConfidentialite()" style="position: absolute; top: 14px; right: 14px; background: none; border: none; color: var(--text-muted); font-size: 20px; cursor: pointer;"><i class="fas fa-times"></i></button>
        <h1 style="font-size: 20px; font-weight: 900; color: var(--text-primary); border-bottom: 2px solid #10b981; padding-bottom: 10px; margin-bottom: 16px;">Politique de Confidentialit&#233; &amp; S&#233;curit&#233;</h1>
        <p style="font-size: 11px; color: var(--text-muted);"><strong>Derni&#232;re mise &#224; jour :</strong> 14 F&#233;vrier 2026</p>
        <p style="font-size: 13px; color: var(--text-secondary); margin-top: 12px;">Bienvenue sur VEKO. La protection de vos donn&#233;es commerciales et personnelles est notre priorit&#233; absolue.</p>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">1. Les Donn&#233;es que nous collectons</h2>
        <ul style="font-size: 12px; color: var(--text-secondary); padding-left: 18px; line-height: 1.8;">
            <li><strong>Donn&#233;es de Compte :</strong> Votre email et votre identifiant unique.</li>
            <li><strong>Donn&#233;es Commerciales :</strong> Les produits, prix, co&#251;ts et ventes que vous enregistrez.</li>
        </ul>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">2. Utilisation des Donn&#233;es</h2>
        <ul style="font-size: 12px; color: var(--text-secondary); padding-left: 18px; line-height: 1.8;">
            <li>Vous fournir vos calculs de marges et vos historiques de ventes.</li>
            <li>Synchroniser vos donn&#233;es entre vos diff&#233;rents appareils.</li>
            <li>Am&#233;liorer les fonctionnalit&#233;s de VEKO (statistiques anonymes).</li>
        </ul>
        <p style="font-size: 12px; color: var(--text-secondary); margin-top: 8px; font-weight: 700;">Nous ne vendons, ne louons et ne partageons JAMAIS vos donn&#233;es commerciales &#224; des tiers.</p>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">3. S&#233;curit&#233; et H&#233;bergement</h2>
        <ul style="font-size: 12px; color: var(--text-secondary); padding-left: 18px; line-height: 1.8;">
            <li><strong>Base de Donn&#233;es :</strong> Supabase, leader mondial de la base de donn&#233;es s&#233;curis&#233;e.</li>
            <li><strong>Chiffrement :</strong> Communications chiffr&#233;es (HTTPS/SSL).</li>
            <li><strong>Cloisonnement (RLS) :</strong> Aucun autre utilisateur ne peut lire vos donn&#233;es.</li>
        </ul>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">4. Cookies et Stockage Local</h2>
        <p style="font-size: 12px; color: var(--text-secondary);">VEKO stocke temporairement certaines donn&#233;es sur votre appareil pour fonctionner hors-ligne. Ces donn&#233;es restent sous votre contr&#244;le.</p>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">5. Vos Droits</h2>
        <ul style="font-size: 12px; color: var(--text-secondary); padding-left: 18px; line-height: 1.8;">
            <li>L'acc&#232;s complet &#224; vos donn&#233;es.</li>
            <li>La suppression d&#233;finitive de votre compte et de toutes vos ventes.</li>
        </ul>
        <h2 style="font-size: 15px; font-weight: 700; color: #10b981; margin-top: 20px;">6. Contact</h2>
        <p style="font-size: 12px; color: var(--text-secondary);">Pour toute question : <strong style="color: #8b5cf6;">appveko@gmail.com</strong></p>
        <button onclick="closeModalConfidentialite()" style="margin-top: 20px; width: 100%; padding: 14px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; border-radius: 12px; font-size: 14px; font-weight: 700; cursor: pointer;">Fermer</button>
    </div>
</div>

<!-- ONBOARDING POPUP -->
<div id="onboardingPopup" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 99998; align-items: center; justify-content: center; padding: 20px;">
    <div style="background: var(--dark-card); border: 1px solid var(--diamond-border); border-radius: 24px; max-width: 480px; width: 100%; padding: 32px 24px; position: relative; max-height: 90vh; overflow-y: auto;">
        <button onclick="closeOnboarding()" style="position: absolute; top: 12px; right: 12px; background: rgba(255,255,255,0.1); border: none; color: var(--text-muted); width: 32px; height: 32px; border-radius: 50%; cursor: pointer; font-size: 14px; display: flex; align-items: center; justify-content: center;">
            <i class="fas fa-times"></i>
        </button>
        <div style="text-align: center; margin-bottom: 24px;">
            <div style="font-size: 40px; margin-bottom: 12px;">&#x1F680;</div>
            <h2 style="font-size: 18px; font-weight: 900; color: var(--text-primary); margin: 0 0 8px;" id="onboardingTitle">Felicitations d'avoir choisi VEKO !</h2>
            <p style="font-size: 12px; color: var(--text-muted); margin: 0;">Votre assistant financier est pret. Pour configurer votre espace, comment vendez-vous principalement ?</p>
        </div>
        <div style="display: flex; flex-direction: column; gap: 12px;">
            <button onclick="choixBoutiquePhysique()" style="padding: 18px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 16px; cursor: pointer; text-align: left; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--accent-blue)'" onmouseout="this.style.borderColor='var(--diamond-border)'">
                <div style="font-size: 24px; margin-bottom: 6px;">&#x1F3EA;</div>
                <div style="font-size: 14px; font-weight: 700; color: var(--text-primary);">Boutique Physique</div>
                <div style="font-size: 11px; color: var(--text-muted); margin-top: 4px;">Je vends au comptoir ou sur le terrain.</div>
            </button>
            <button onclick="choixVenteSociale()" style="padding: 18px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 16px; cursor: pointer; text-align: left; transition: all 0.2s;" onmouseover="this.style.borderColor='var(--accent-green)'" onmouseout="this.style.borderColor='var(--diamond-border)'">
                <div style="font-size: 24px; margin-bottom: 6px;">&#x1F4AC;</div>
                <div style="font-size: 14px; font-weight: 700; color: var(--text-primary);">Vente Sociale</div>
                <div style="font-size: 11px; color: var(--text-muted); margin-top: 4px;">Je vends via messagerie WhatsApp, FB, etc.</div>
            </button>
            <button onclick="choixEcommerce()" style="padding: 18px 16px; background: var(--glass-bg); border: 2px solid var(--diamond-border); border-radius: 16px; cursor: pointer; text-align: left; transition: all 0.2s;" onmouseover="this.style.borderColor='#96bf48'" onmouseout="this.style.borderColor='var(--diamond-border)'">
                <div style="font-size: 24px; margin-bottom: 6px;">&#x1F6CD;</div>
                <div style="font-size: 14px; font-weight: 700; color: var(--text-primary);">E-commerce Pro</div>
                <div style="font-size: 11px; color: var(--text-muted); margin-top: 4px;">J'ai une boutique Shopify a automatiser.</div>
            </button>
        </div>
        <p style="font-size: 10px; color: var(--text-muted); text-align: center; margin-top: 16px;">
            <a href="#" onclick="closeOnboarding(); return false;" style="color: var(--text-muted); text-decoration: underline;">Ignorer pour le moment</a>
        </p>
    </div>
</div>

<!-- SHOPIFY CONNECT MODAL -->
<div id="shopifyModal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 99998; align-items: center; justify-content: center; padding: 20px;">
    <div style="background: var(--dark-card); border: 1px solid var(--diamond-border); border-radius: 20px; max-width: 400px; width: 100%; padding: 28px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <i class="fab fa-shopify" style="font-size: 24px; color: #96bf48;"></i>
                <span style="font-size: 16px; font-weight: 800; color: var(--text-primary);">Connecter Shopify</span>
            </div>
            <button onclick="closeShopifyModal()" style="background: none; border: none; color: var(--text-muted); font-size: 18px; cursor: pointer;"><i class="fas fa-times"></i></button>
        </div>
        <div style="margin-bottom: 16px;">
            <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">URL de votre boutique</label>
            <div style="display: flex; align-items: center; gap: 0;">
                <input type="text" id="shopifyShopUrl" placeholder="ma-boutique" style="flex: 1; padding: 12px; background: rgba(255,255,255,0.06); border: 1px solid var(--diamond-border); border-right: none; border-radius: 10px 0 0 10px; color: var(--text-primary); font-size: 13px; outline: none;">
                <span style="padding: 12px; background: rgba(255,255,255,0.03); border: 1px solid var(--diamond-border); border-radius: 0 10px 10px 0; font-size: 11px; color: var(--text-muted); white-space: nowrap;">.myshopify.com</span>
            </div>
        </div>
        <div style="margin-bottom: 20px;">
            <label style="font-size: 11px; color: var(--text-muted); font-weight: 600; display: block; margin-bottom: 6px;">Importer les commandes depuis</label>
            <div style="display: flex; gap: 8px;">
                <button type="button" class="btn btn-secondary shopify-range-btn" onclick="selectShopifyRange('1m')" style="flex: 1; padding: 10px; font-size: 12px;" data-range="1m">1 mois</button>
                <button type="button" class="btn btn-secondary shopify-range-btn" onclick="selectShopifyRange('3m')" style="flex: 1; padding: 10px; font-size: 12px;" data-range="3m">3 mois</button>
                <button type="button" class="btn btn-primary shopify-range-btn" onclick="selectShopifyRange('all')" style="flex: 1; padding: 10px; font-size: 12px;" data-range="all">Tout</button>
            </div>
        </div>
        <button onclick="startShopifyOAuth()" style="width: 100%; padding: 14px; background: linear-gradient(135deg, #96bf48 0%, #5e8e3e 100%); color: white; border: none; border-radius: 12px; font-size: 14px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
            <i class="fab fa-shopify"></i> Connecter et Importer
        </button>
    </div>
</div>

</body>
</html>
